<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="zerolhao-blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="zerolhao-blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zerolhao-blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>zerolhao-blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zerolhao-blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/27/A29-用jQuery做个轮播/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zerolhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zerolhao-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/27/A29-用jQuery做个轮播/" itemprop="url">A29-用jQuery做个轮播</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-27T23:12:29+08:00">
                2018-01-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="这次我们将用jQuery做一个轮播"><a href="#这次我们将用jQuery做一个轮播" class="headerlink" title="这次我们将用jQuery做一个轮播"></a>这次我们将用jQuery做一个轮播</h1><p>在遵循原则：<strong>内容(HTML)、样式(CSS)、行为(JavaScript)分离</strong>的情况下</p>
<h2 id="面试套路"><a href="#面试套路" class="headerlink" title="面试套路"></a>面试套路</h2><p>如果被问到你对于前端内容、样式、行为分离的理解。<br>我们当然认为这是理所当然的，但是这么回答显然不行。<br>所以，<strong>我们可以反着回答</strong>，如果不分离的话会有什么坏处，以此论证需要分离。<br>例如：</p>
<ul>
<li><p>HTML负责样式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;body bgcolor=&quot;gray&quot;&gt;</span><br><span class="line">  &lt;center&gt;</span><br><span class="line">    &lt;font color=&quot;red&quot; size=&quot;20&quot;&gt;你好&lt;/font&gt;</span><br><span class="line">  &lt;center&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>现在，有的标签是为了表示样式的，有的标签是为了表示内容的，这使得我们难以区分这些标签真正的逻辑结构</p>
</li>
<li><p>CSS 表示内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// html</span><br><span class="line">&lt;div id=&quot;x&quot;&gt;&lt;/div&gt;</span><br><span class="line">// css</span><br><span class="line">div::after&#123; content: &apos;你好&apos;; &#125;</span><br><span class="line">// js</span><br><span class="line">console.log(x.innerText) // 什么都没有，空的</span><br></pre></td></tr></table></figure>
<p>使用css表示内容，会导致用户无法用鼠标选中它，同时，js也无法获取它的内容</p>
</li>
<li>CSS 表示行为<br>使用css表示复杂的行为，会导致页面变得很慢很慢<br>优化的原则之一：不要使用IE发明的CSS Expressions</li>
<li><p>JS 表示 CSS</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// html</span><br><span class="line">&lt;div id=&quot;x&quot;&gt;&lt;/div&gt;</span><br><span class="line">// js</span><br><span class="line">var $div = $(&apos;#x&apos;)</span><br><span class="line">$div.hide() // 影藏很好理解，display:none</span><br><span class="line">$div.show() // 显示呢？block？可如果我本来是flex呢？或者inline-flex呢？</span><br><span class="line">// jQuery 为了处理这个问题，在 hide() 时获取了你的 display 值</span><br><span class="line">// 使得 flex 在经过 hide() show()之后依然是 flex</span><br><span class="line">// 可是，如果本来是 none 呢？</span><br><span class="line">// css</span><br><span class="line">div&#123; display:none; &#125;</span><br><span class="line">// 测试结果显示 show() 之后是 block,也就是说 show() 默认 block</span><br></pre></td></tr></table></figure>
<p>这种结果显然不符合我们的预期，这里，建议使用添加 class 的方式来控制，js 只负责行为，它不知道一个div应该怎么show，block？flex？<br>显示还是不显示？那是 css 的活。<br><code>$div.addClass(&#39;active&#39;)</code></p>
</li>
</ul>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><ol>
<li>将图片全部放到一个div里，把图片放平，图片最好是一样大小的</li>
<li>然后用一个窗口来看图片，图片从左到右挨个出现，就好像以前的电影胶带</li>
<li>有了思路，剩下的就是实现和改bug，这次是用jq来写，会出现很多不认识的api，直接查文档就行了</li>
</ol>
<h1 id="关于封装"><a href="#关于封装" class="headerlink" title="关于封装"></a>关于封装</h1><ol>
<li>从 API 开始思考</li>
<li>尽量能让人看见就明白是干嘛的</li>
</ol>
<h1 id="成果"><a href="#成果" class="headerlink" title="成果"></a>成果</h1><ul>
<li><a href="https://zerolhao.github.io/task-code/A29-jQuery-carousel/index.html" target="_blank" rel="noopener">预览</a></li>
<li><a href="https://github.com/zerolhao/task-code/tree/master/A29-jQuery-carousel" target="_blank" rel="noopener">代码</a></li>
</ul>
<h1 id="本次任务用到的-jQuery-API"><a href="#本次任务用到的-jQuery-API" class="headerlink" title="本次任务用到的 jQuery API"></a>本次任务用到的 jQuery API</h1><ol>
<li><code>.on()</code> -<a href="https://www.jquery123.com/on/" target="_blank" rel="noopener">link</a></li>
<li><code>index()</code> -<a href="https://www.jquery123.com/index/" target="_blank" rel="noopener">link</a></li>
<li><code>.eq()</code> -<a href="https://www.jquery123.com/eq/" target="_blank" rel="noopener">link</a></li>
<li><code>.trigger()</code> -<a href="https://www.jquery123.com/trigger/" target="_blank" rel="noopener">link</a></li>
<li><code>.addClass()</code> -<a href="https://www.jquery123.com/addClass/" target="_blank" rel="noopener">link</a></li>
<li><code>.removeClass()</code> -<a href="https://www.jquery123.com/removeClass/" target="_blank" rel="noopener">link</a></li>
<li><code>.siblings()</code> -<a href="https://www.jquery123.com/siblings/" target="_blank" rel="noopener">link</a></li>
<li><code>.css()</code> -<a href="https://www.jquery123.com/css/" target="_blank" rel="noopener">link</a></li>
</ol>
<h1 id="优化原则"><a href="#优化原则" class="headerlink" title="优化原则"></a>优化原则</h1><ol>
<li>不使用 CSS 来表示复杂的行为，不要使用IE发明的CSS Expressions。</li>
<li>如果你已经知道图片的宽高了，那么最好是写在上面<code>&lt;img width=xx height=xx&gt;&lt;/img&gt;</code>，这样浏览器就会少一次让后面的图片或者其它元素让位的过程。</li>
</ol>
<h1 id="奇葩bug"><a href="#奇葩bug" class="headerlink" title="奇葩bug"></a>奇葩bug</h1><ol>
<li>css tansform: translateX();在浏览器放大页面下出现bug，抖动</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/26/A28-JQuery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zerolhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zerolhao-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/26/A28-JQuery/" itemprop="url">A28-JQuery</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-26T23:43:33+08:00">
                2018-01-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="这次我们自己实现一个类似Query的API（简化版）"><a href="#这次我们自己实现一个类似Query的API（简化版）" class="headerlink" title="这次我们自己实现一个类似Query的API（简化版）"></a>这次我们自己实现一个类似Query的API（简化版）</h1><h2 id="封装函数"><a href="#封装函数" class="headerlink" title="封装函数"></a>封装函数</h2><h3 id="获取一个元素所有兄弟元素"><a href="#获取一个元素所有兄弟元素" class="headerlink" title="获取一个元素所有兄弟元素"></a>获取一个元素所有兄弟元素</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">// html</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li id=&quot;item1&quot;&gt;选项1&lt;/li&gt;</span><br><span class="line">  &lt;li id=&quot;item2&quot;&gt;选项2&lt;/li&gt;</span><br><span class="line">  &lt;li id=&quot;item3&quot;&gt;选项3&lt;/li&gt;</span><br><span class="line">  &lt;li id=&quot;item4&quot;&gt;选项4&lt;/li&gt;</span><br><span class="line">  &lt;li id=&quot;item5&quot;&gt;选项5&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">// js, 假设我们获取 item3 的所有兄弟元素</span><br><span class="line">var allChildren = item3.parentNode.children</span><br><span class="line">var array = &#123;</span><br><span class="line">  length: 0;</span><br><span class="line">&#125;</span><br><span class="line">for(let i=0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">  if(allChildren[i] !== item3)&#123;</span><br><span class="line">    array[array.length] = allChildren[i]</span><br><span class="line">    array.length += 1</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(array)  // 测试</span><br><span class="line">// 这样就获得 item3的所有兄弟元素了</span><br><span class="line">// 接下来我们将这段代码封装起来</span><br><span class="line">function getSiblings(node)&#123; /* API */</span><br><span class="line">  var allChildren = node.parentNode.children</span><br><span class="line">  var array = &#123;</span><br><span class="line">    length: 0;</span><br><span class="line">  &#125;</span><br><span class="line">  for(let i=0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">    if(allChildren[i] !== node)&#123;</span><br><span class="line">      array[array.length] = allChildren[i]</span><br><span class="line">      array.length += 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return array  // 返回一个伪数组</span><br><span class="line">&#125;</span><br><span class="line">console.log(getSiblings(item2)) // test</span><br><span class="line">// 这样，一个api就做好了，它可以获得一个元素的所有兄弟元素</span><br></pre></td></tr></table></figure>
<h3 id="接下来我们开始给一个元素添加-class"><a href="#接下来我们开始给一个元素添加-class" class="headerlink" title="接下来我们开始给一个元素添加  class"></a>接下来我们开始给一个元素添加  class</h3><p>仍然是上面那段 <code>html</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">// 为元素添加多个 class</span><br><span class="line">item3.classList.add(&apos;a&apos;)</span><br><span class="line">item3.classList.add(&apos;b&apos;)</span><br><span class="line">item3.classList.add(&apos;c&apos;)</span><br><span class="line"></span><br><span class="line">// 简洁一点的写法</span><br><span class="line">var classes = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;]</span><br><span class="line">classes.forEach( value =&gt; item3.classList.add(value) )</span><br><span class="line"></span><br><span class="line">// 这次我们既可以 add 也可以 remove</span><br><span class="line">var classes = &#123;&apos;a&apos;:true, &apos;b&apos;:false, &apos;c&apos;:true&#125;</span><br><span class="line">for(let key in classes)&#123;</span><br><span class="line">  if(classes[key])&#123;</span><br><span class="line">    item3.classList.add(key)</span><br><span class="line">  &#125;</span><br><span class="line">  else&#123;</span><br><span class="line">    item3.classList.remove(key)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 封装成函数</span><br><span class="line">function addClass(node, classes)&#123;</span><br><span class="line">  for(let key in classes)&#123;</span><br><span class="line">    /*</span><br><span class="line">    if(classes[key])&#123;</span><br><span class="line">      node.classList.add(key)</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">      node.classList.remove(key)</span><br><span class="line">    &#125;</span><br><span class="line">    */</span><br><span class="line">    // 代码优化守则1：如果出现类似的代码，就存在优化的可能</span><br><span class="line">    // 优化这段代码</span><br><span class="line">    let methodName = class[key] ? &apos;add&apos; : &apos;remove&apos;</span><br><span class="line">    node.classList[methodName](key)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">addClass(item3, &#123;a:true,b:false,c:true&#125;) // test</span><br></pre></td></tr></table></figure></p>
<h2 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h2><p>上面两个函数是有关联性的，他们都是对node进行操作<br>现在我们来声明一个变量，将它们放进去<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">window.zdom = &#123;&#125;</span><br><span class="line"></span><br><span class="line">zdom.getSiblings = function(node)&#123;</span><br><span class="line">  var allChildren = node.parentNode.children</span><br><span class="line">  var array = &#123;</span><br><span class="line">    length: 0;</span><br><span class="line">  &#125;</span><br><span class="line">  for(let i=0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">    if(allChildren[i] !== node)&#123;</span><br><span class="line">      array[array.length] = allChildren[i]</span><br><span class="line">      array.length += 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return array  // 返回一个伪数组</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">zdom.addClass = function(node, classes)&#123;</span><br><span class="line">  for(let key in classes)&#123;</span><br><span class="line">    let methodName = class[key] ? &apos;add&apos; : &apos;remove&apos;</span><br><span class="line">    node.classList[methodName](key)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">zdom.getSiblings(item3)</span><br><span class="line">zdom.addClass(item3,&#123;a: true, b: true, c: flase&#125;)</span><br></pre></td></tr></table></figure></p>
<p>有一个库就是这样的方式：yui<br>这就叫做命名空间，也是一种设计模式。所有的套路都是设计模式，就比如哈希，就比如数组。<br>这种常用的模式或者组合就叫做设计模式。<br>为什么要命名空间：想想JQuery，那么多api，难道对别人说的时候要一个一个报出来么，所以一个统称的名字就很必要了，同时，你怎么知道别人没写addClass呢？全部放到window里不会产生覆盖么，所以，<br>如果没有命名空间：</p>
<ol>
<li>别人不知道你的库叫什么</li>
<li>你会不知不觉把所有全局变量都覆盖了</li>
</ol>
<h2 id="将-node-放在前面"><a href="#将-node-放在前面" class="headerlink" title="将 node 放在前面"></a>将 node 放在前面</h2><p>相较于命名空间的调用方式(这种方法已经过时了)<br><code>zdom.getSiblings(item3)</code><br><code>zdom.addClass(item3,{a: true, b: true, c: flase})</code><br>我们认为这样的方式更好：<br><code>item3.getSiblings()</code><br><code>item3.addClass({a: true, b: true, c: flase})</code></p>
<p>这时候，就需要用到原型，来扩展 Node 接口，<br><strong>这是第一种方法</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Node.prototype.getSiblings = function()&#123;</span><br><span class="line">  var allChildren = this.parentNode.children</span><br><span class="line">  var array = &#123;</span><br><span class="line">    length: 0;</span><br><span class="line">  &#125;</span><br><span class="line">  for(let i=0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">    if(allChildren[i] !== this)&#123;</span><br><span class="line">      array[array.length] = allChildren[i]</span><br><span class="line">      array.length += 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return array  // 返回一个伪数组</span><br><span class="line">&#125;</span><br><span class="line">Node.prototype.addClass = function(classes)&#123;</span><br><span class="line">  for(let key in classes)&#123;</span><br><span class="line">    let methodName = class[key] ? &apos;add&apos; : &apos;remove&apos;</span><br><span class="line">    this.classList[methodName](key)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 隐式指定 this</span><br><span class="line">item3.getSiblings()</span><br><span class="line">item3.addClass(&#123;a: true, b: true, c: flase&#125;)</span><br><span class="line">// 显式指定 this</span><br><span class="line">item3.getSiblings.call(item3)</span><br><span class="line">item3.addClass.call(item3, &#123;a: true, b: true, c: flase&#125;)</span><br></pre></td></tr></table></figure></p>
<p>但是改写Node.prototype可能会出现覆盖情况，所以又有了<strong>第二种方法</strong>：<br>这种叫做「无侵入」<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">window.Node2 = function(node)&#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    getSiblings: function()&#123;</span><br><span class="line">      var allChildren = node.parentNode.children</span><br><span class="line">      var array = &#123;</span><br><span class="line">        length: 0;</span><br><span class="line">      &#125;</span><br><span class="line">      for(let i=0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">        if(allChildren[i] !== node)&#123;</span><br><span class="line">          array[array.length] = allChildren[i]</span><br><span class="line">          array.length += 1</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return array  // 返回一个伪数组</span><br><span class="line">    &#125;,</span><br><span class="line">    addClass: function(classes)&#123;</span><br><span class="line">      for(let key in classes)&#123;</span><br><span class="line">        let methodName = class[key] ? &apos;add&apos; : &apos;remove&apos;</span><br><span class="line">        node.classList[methodName](key)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">var node2 = Node2(item3)</span><br><span class="line">node2.getSiblings()</span><br><span class="line">node2.addClass(&#123;a: true, b: true, c: flase&#125;)</span><br></pre></td></tr></table></figure></p>
<h3 id="给-Node2-换个名字-jQuery"><a href="#给-Node2-换个名字-jQuery" class="headerlink" title="给 Node2 换个名字 jQuery"></a>给 Node2 换个名字 jQuery</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = function(node)&#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    getSiblings: function()&#123; ... &#125;,</span><br><span class="line">    addClass: function(classes)&#123; ... &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">var node2 = jQuery(item3)</span><br><span class="line">node2.getSiblings()</span><br><span class="line">node2.addClass(&#123;a: true, b: true, c: flase&#125;)</span><br></pre></td></tr></table></figure>
<p>除了名字换了一下，和刚才的代码并没有区别<br>只是Node2变成了jQuery<br><strong>jQuery就是一个这么升级了的DOM</strong><br><strong>它接受一个旧的节点，然后返回你一个新的对象</strong><br>这个新的对象有新的API，它的内部实现依然是去调用旧的API，只是变得更好用、更方便（一句话相当于以前十句话）<br>然而jQuery的厉害不止于此，它还可以接受选择器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = function(nodeOrSelector)&#123;</span><br><span class="line">  let node</span><br><span class="line">  // 类型检测</span><br><span class="line">  if(typeof nodeOrSelector === &apos;string&apos;)&#123;</span><br><span class="line">    node = document.querySelector(nodeOrSelector)</span><br><span class="line">  &#125; else&#123;</span><br><span class="line">    node = nodeOrSelector</span><br><span class="line">  &#125;</span><br><span class="line">  return &#123;</span><br><span class="line">    getSiblings: function()&#123;</span><br><span class="line">      var allChildren = node.parentNode.children</span><br><span class="line">      var array = &#123;  length: 0; &#125;</span><br><span class="line">      for(let i=0; i &lt; allChildren.length; i++)&#123;</span><br><span class="line">        if(allChildren[i] !== node)&#123; // 注意这里用到了闭包，匿名函数访问了外面的 node</span><br><span class="line">          array[array.length] = allChildren[i]  // node 和 匿名函数组成了闭包（下面的函数同理）</span><br><span class="line">          array.length += 1</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return array  // 返回一个伪数组</span><br><span class="line">    &#125;,</span><br><span class="line">    addClass: function(classes)&#123;</span><br><span class="line">      for(let key in classes)&#123;</span><br><span class="line">        let methodName = class[key] ? &apos;add&apos; : &apos;remove&apos;</span><br><span class="line">        node.classList[methodName](key)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">var node2 = jQuery(&apos;#item3&apos;)</span><br><span class="line">// var node2 = jQuery(&apos;ul &gt; li:nth-child(3)&apos;)</span><br><span class="line">node2.addClass(&#123;a: true, b: true, c: flase&#125;)</span><br></pre></td></tr></table></figure></p>
<h4 id="那么如果要操作多个节点呢？"><a href="#那么如果要操作多个节点呢？" class="headerlink" title="那么如果要操作多个节点呢？"></a>那么如果要操作多个节点呢？</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = function(nodeOrSelector)&#123;</span><br><span class="line">  let nodes = &#123;&#125;</span><br><span class="line">  if(typeof nodeOrSelector === &apos;string&apos;)&#123;</span><br><span class="line">    let temp = document.querySelectorAll(nodeOrSelector) // 伪数组</span><br><span class="line">    for(let i=0; i &lt; temp.length; i++)&#123; // 如果你想要一个纯净的伪数组不要那些其它属性方法</span><br><span class="line">      nodes[i] = temp[i]</span><br><span class="line">    &#125;</span><br><span class="line">    node.length = temp.length</span><br><span class="line">  &#125; else if(nodeOrSelector instanceof Node) &#123;</span><br><span class="line">    nodes = &#123;0: nodeOrSelector, length: 1&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  nodes.getSiblings = function()&#123;/*太麻烦不做了*/&#125;</span><br><span class="line">  nodes.addClass = function(classes)&#123;</span><br><span class="line">    classes.forEach((value) =&gt; &#123;</span><br><span class="line">      for(let i=0; i &lt; nodes.length; i++)&#123;</span><br><span class="line">        nodes[i].classList.add(value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  // 添加几个有用的 jQuery Api</span><br><span class="line">  nodes.getText = function()&#123;</span><br><span class="line">    let texts = []</span><br><span class="line">    for(let i=0; i &lt; nodes.length; i++)&#123;</span><br><span class="line">      texts.push(nodes[i].textContent)</span><br><span class="line">    &#125;</span><br><span class="line">    return texts</span><br><span class="line">  &#125;</span><br><span class="line">  nodes.setText = function(text)&#123;</span><br><span class="line">    for(let i=0; i &lt; nodes.length; i++)&#123;</span><br><span class="line">      nodes[i].textContent = text</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // 然而实际上 jQuery 合并了 get和set</span><br><span class="line">  // 类似的 api jquery 有很多</span><br><span class="line">  nodes.text = function(text)&#123;</span><br><span class="line">    // jQuery 认为，你没有设置参数，那就是要获取 text，</span><br><span class="line">    // 如果有参数，那就是要设置 text</span><br><span class="line">    if(text === undefined)&#123;</span><br><span class="line">      let texts = []</span><br><span class="line">      for(let i=0; i &lt; nodes.length; i++)&#123;</span><br><span class="line">        texts.push(nodes[i].textContent)</span><br><span class="line">      &#125;</span><br><span class="line">      return texts</span><br><span class="line">    &#125; else&#123;</span><br><span class="line">      for(let i=0; i &lt; nodes.length; i++)&#123;</span><br><span class="line">        nodes[i].textContent = text</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return nodes</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var node2 = jQuery(&apos;ul &gt; li&apos;)</span><br><span class="line">node2.addClass([&apos;red&apos;])</span><br><span class="line">var text = node2.text()</span><br><span class="line">node2.text(&apos;hi&apos;)</span><br></pre></td></tr></table></figure>
<h4 id="缩写-alias"><a href="#缩写-alias" class="headerlink" title="缩写 alias"></a>缩写 alias</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.$ = jQuery</span><br><span class="line">// 建议使用 jQuery 构造出来的 对象都在前面加一个 $ ,以表示它是由$构造的，避免和正常的弄混</span><br><span class="line">var $node2 = $(&apos;ul&gt;li&apos;)</span><br></pre></td></tr></table></figure>
<h1 id="知道了-jQuery-是怎么实现的，现在去看看真正的-jQuery吧-MDN"><a href="#知道了-jQuery-是怎么实现的，现在去看看真正的-jQuery吧-MDN" class="headerlink" title="知道了 jQuery 是怎么实现的，现在去看看真正的 jQuery吧 -MDN"></a>知道了 jQuery 是怎么实现的，现在去看看真正的 jQuery吧 -<a href="https://jquery.com/" target="_blank" rel="noopener">MDN</a></h1><ul>
<li><a href="http://api.jquery.com/" target="_blank" rel="noopener">jQuery Api</a></li>
<li><a href="https://www.jquery123.com/" target="_blank" rel="noopener">jQuery Api中文网</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">// html</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li class=&apos;red&apos;&gt;选项1&lt;/li&gt;</span><br><span class="line">  &lt;li class=&apos;red&apos;&gt;选项2&lt;/li&gt;</span><br><span class="line">  &lt;li class=&apos;red&apos;&gt;选项3&lt;/li&gt;</span><br><span class="line">  &lt;li class=&apos;red&apos;&gt;选项4&lt;/li&gt;</span><br><span class="line">  &lt;li class=&apos;red&apos;&gt;选项5&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;button id=x&gt;&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">// css</span><br><span class="line">.red&#123;color:red;&#125;</span><br><span class="line">.green&#123;color:green;&#125;</span><br><span class="line"></span><br><span class="line">// js,使用 jQuery</span><br><span class="line">var nodes = jQuery(&apos;ul&gt;li&apos;)</span><br><span class="line">var classes = [&apos;red&apos;,&apos;green&apos;,&apos;blue&apos;,&apos;yellow&apos;,&apos;black&apos;]</span><br><span class="line">x.onclick = function()&#123;</span><br><span class="line">  /* 常规写法</span><br><span class="line">  nodes.removeClass(&apos;red&apos;)</span><br><span class="line">  nodes.addClass(&apos;green&apos;)</span><br><span class="line">  */</span><br><span class="line">  nodes.removeClass(&apos;red&apos;).addClass(&apos;green&apos;) // 链式操作</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>现在大概已经知道 jQuery 是怎么写的了，明白了它的原理，接下来只需要多了解它的api，<br>但实际上 jQuery 并没有这么简单，作为曾经风靡前端的库，它的强大超乎我们的想象。</p>
<ul>
<li>jQuery 在兼容性方面做得很好，1.7 版本兼容到 IE 6</li>
<li>jQuery 还有动画、AJAX 等模块，不止 DOM 操作</li>
<li>jQuery 的功能更丰富</li>
<li>jQuery 使用了 prototype，我们没有使用，等学了 new 之后再用 </li>
</ul>
<p><strong>库是特定种类的API</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/25/A27-DOM-API/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zerolhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zerolhao-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/25/A27-DOM-API/" itemprop="url">A27-DOM API</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-25T22:23:28+08:00">
                2018-01-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document_Object_Model" target="_blank" rel="noopener">MDN</a></li>
<li><a href="http://javascript.ruanyifeng.com/dom/node.html" target="_blank" rel="noopener">阮一峰</a><br>什么是DOM，DOM最重要的就是要明白它的概念，否则遇到问题也不知道如何下手<br>大家都说DOM树，这是一个比喻，易于理解，<br>D就是文档，想象它是一个树状的结构（就像之前数据结构里的二叉树那样），树上有着节点（node）<br>O就是对象，<br>M也就是模型，把D和O做一个一一对应的映射，就是这个模型<br>所以DOM就是把文档变成一个对象<br><img src="http://upload-images.jianshu.io/upload_images/9047034-b2ba8fd51edc6b54.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="映射"><br><strong>上图红字</strong><br>DOM转化来的js对象里面到底存放什么由DOM标准规定<br>比如：<br>上图的 head、body、meta、link、h1、p 都是Element的实例<br>（中间存在其它函数，F12调试可见，比如document.body就是document.body.<strong>proto</strong>-&gt;HTMLBodyElement.prototype.<strong>proto</strong>-&gt;HTMLElement.prototype.<strong>proto</strong>-&gt;Element.prototype）<br>根节点html比较特殊，是由document构造的（DOucment-&gt;HTMLDocument,简写）<br>至于文本节点则是由</li>
</ul>
<h2 id="Node-Api"><a href="#Node-Api" class="headerlink" title="Node Api"></a>Node Api</h2><h3 id="Node-属性"><a href="#Node-属性" class="headerlink" title="Node 属性"></a>Node 属性</h3><p>记住以下单词；</p>
<ul>
<li>child / children / parent</li>
<li>node </li>
<li>first / last</li>
<li>next / previous</li>
<li>sibling / siblings</li>
<li>type</li>
<li>value / text / content</li>
<li>inner / outer</li>
<li>element<br>然后相互组合<br>一部分：childNodes,firstChild,innerText,lastChild,nextSibling,nodeName,nodeType,nodeValue,outerText,ownerDocument,parentElement,parentNode,previousSibling,textContent<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;&lt;/head&gt;</span><br><span class="line">  &lt;body&gt;&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">document.body.previousSibling // #text</span><br><span class="line">document.body.previousSibling.previousSibling // &lt;head&gt;&lt;/head&gt;</span><br><span class="line">docuemnt.body.previousElementSibling // &lt;head&gt;&lt;/head&gt;</span><br><span class="line">// 为什么previousSibling返回的是文本节点呢，这是因为本来dom是配对xml的，后来强行配对html</span><br><span class="line">// previousSibling是 Node 的属性，previousElementSibling是 Element 的属性</span><br><span class="line">// previousSibling 是本来就有的，previousElementSibling是后来加的</span><br><span class="line">// 类似的还有 nextSibling / nextElementSibling, firstChild / firstElementChild 等等</span><br><span class="line">// 可以在F12中尝试，控制台会显示提示以及该属性属于哪个对象</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="几个要注意的-Node-Api"><a href="#几个要注意的-Node-Api" class="headerlink" title="几个要注意的 Node Api"></a>几个要注意的 Node Api</h3><ul>
<li><code>nodeName</code><br>注意这个api很奇葩<br><code>document.body.nodeName // &#39;BODY</code><br><code>document.documentElement.nodeName // &#39;HTML</code><br><code>document.nodeName不行，必须像上面那样写</code><br>它对所有标签返回名称都是大写<br><strong>但是！唯有svg，它返回小写</strong><br><code>document.getElementsByTagName(&#39;svg&#39;)[0] // &#39;svg&#39;</code><br>这是因为svg是‘外来的’标签，它是后来新加的，然后就这么小写了……</li>
<li><p><code>nodeType</code> -<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeType" target="_blank" rel="noopener">MDN</a><br>只读属性 Node.nodeType 表示的是该节点的类型。其所有可能的值请参考<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeType#%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B%E5%B8%B8%E9%87%8F" target="_blank" rel="noopener">节点类型常量.</a><br>它返回一个整数来表示节点的类型<br>(之所以这样是因为当年的计算机还没这么发达，而1比element的字节小多了)<br>以下几个需知：<br>1  元素节点， Eg：<code>&lt;div&gt;、&lt;p&gt;</code><br>3  文本节点， 元素或者属性中实际的文字，比如<code>&lt;p&gt;段落&lt;/p&gt;</code>中的段落二字<br>9  Document节点，<br>11 DocumentFragment节点 // 很特殊的一个节点（暂时我还不清楚，google DocumentFragment优化）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">document.body.nodeType // 1</span><br><span class="line">document.nodeType // 9</span><br><span class="line">document.documentElement.nodetype // 1</span><br><span class="line">document.documentElement.nodeName // &apos;HTML&apos;</span><br><span class="line">// 所以document.documentElement才是html，document不是？</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>innerText</code>与<code>textContent</code> -<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node/textContent" target="_blank" rel="noopener">MDN</a><br>区别:</p>
<ul>
<li>textContent 会获取所有元素的内容，包括 <code>&lt;script&gt; 和 &lt;style&gt;</code> 元素，然而 innerText 不会。</li>
<li>innerText意识到样式，并且不会返回隐藏元素的文本(设置display:none的元素)，而textContent会。</li>
<li>由于 innerText 受 CSS 样式的影响，它会触发重排（reflow），但textContent 不会。</li>
<li>与 textContent 不同的是, 在 Internet Explorer (对于小于等于 IE11 的版本) 中对 innerText 进行修改， 不仅会移除当前元素的子节点，而且还会永久性地破坏所有后代文本节点（所以不可能再次将节点再次插入到任何其他元素或同一元素中）。</li>
</ul>
</li>
<li><p><code>childNodes</code> -<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/NodeList#A_sometimes-live_collection" target="_blank" rel="noopener">MDN</a><br>Node.childNodes 返回包含指定节点的子节点的集合，该集合为即时更新的集合（live collection）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var parent = document.getElementById(&apos;parent&apos;);</span><br><span class="line">parent.childNodes.length // 2</span><br><span class="line">parent.appendChild(document.createElement(&apos;div&apos;));</span><br><span class="line">parent.childNodes.length // 请问现在 length 是多少</span><br><span class="line"></span><br><span class="line">// 3</span><br><span class="line"></span><br><span class="line">// 与之相反的是 querySelectorAll() ,它返回的是一个静态的 NodeList</span><br><span class="line">var allDiv = document.querySelectorAll(&apos;div&gt;</span><br><span class="line">allDiv.length // 假设是 2</span><br><span class="line">document.body.appendChild(  document.createElement(&apos;div&apos;)  )</span><br><span class="line">allDiv.length // 请问现在 length 的值是多少？？？</span><br><span class="line">// 2</span><br><span class="line">// querySelectorAll方法不属于 node，是document 和 element 的</span><br></pre></td></tr></table></figure>
</li>
<li><p>HTMLCollection与NodeList的区别有</p>
<ul>
<li>HTMLCollection实例对象的成员只能是Element节点，NodeList实例对象的成员可以包含其他节点。</li>
<li>HTMLCollection实例对象可以用id属性或name属性引用节点元素，NodeList只能使用数字索引引用。</li>
<li>HTML DOM 中的 HTMLCollection 是即时更新的（live）；<br>当其所包含的文档结构发生改变时，它会自动更新。<br>NodeList 对象大多数情况下是个实时集合。<br>意思是说，如果文档中的节点树发生变化，则已经存在的 NodeList 对象也可能会变化。例如，Node.childNodes 是实时的。<br>在另一些情况下，NodeList 是一个静态集合，也就意味着随后对文档对象模型的任何改动都不会影响集合的内容。document.querySelectorAll 返回一个静态的 NodeList。<h3 id="Node-方法-（如果一个属性是函数，那么这个属性就也叫做方法；换言之，方法是函数属性）"><a href="#Node-方法-（如果一个属性是函数，那么这个属性就也叫做方法；换言之，方法是函数属性）" class="headerlink" title="Node 方法 （如果一个属性是函数，那么这个属性就也叫做方法；换言之，方法是函数属性）"></a>Node 方法 （如果一个属性是函数，那么这个属性就也叫做方法；换言之，方法是函数属性）</h3></li>
</ul>
</li>
<li><code>appendChild()</code></li>
<li><code>cloneNode() // 分深、浅拷贝</code></li>
<li><code>contains()</code></li>
<li><code>hasChildNodes()</code></li>
<li><code>insertBefore()</code></li>
<li><code>isEqualNode() // 看起来相等</code></li>
<li><code>isSameNode() // 完全相等，可以用 === 来代替</code></li>
<li><code>removeChild()</code></li>
<li><code>replaceChild()</code></li>
<li><code>normalize() // 常规化</code><br>基本看见名字就知道作用，不清楚也可以查MDN。</li>
</ul>
<h2 id="Document-Api-MDN"><a href="#Document-Api-MDN" class="headerlink" title="Document Api -MDN"></a>Document Api -<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document" target="_blank" rel="noopener">MDN</a></h2><h3 id="Document-属性"><a href="#Document-属性" class="headerlink" title="Document 属性"></a>Document 属性</h3><ul>
<li>body</li>
<li>characterSet</li>
<li>childElementCount</li>
<li>children</li>
<li>doctype</li>
<li>documentElement</li>
<li>domain</li>
<li>fullscreen</li>
<li>head</li>
<li>hidden</li>
<li>images</li>
<li>links</li>
<li>location</li>
<li>onxxxxxxxxx</li>
<li>origin</li>
<li>plugins</li>
<li>readyState</li>
<li>referrer</li>
<li>scripts</li>
<li>scrollingElement</li>
<li>styleSheets</li>
<li>title</li>
<li>visibilityState<h3 id="Document-方法："><a href="#Document-方法：" class="headerlink" title="Document 方法："></a>Document 方法：</h3></li>
<li>close()</li>
<li>createDocumentFragment()</li>
<li>createElement()</li>
<li>createTextNode()</li>
<li>execCommand()</li>
<li>exitFullscreen()</li>
<li>getElementById()</li>
<li>getElementsByClassName()</li>
<li>getElementsByName()</li>
<li>getElementsByTagName()</li>
<li>getSelection()</li>
<li>hasFocus()</li>
<li>open()</li>
<li>querySelector()</li>
<li>querySelectorAll()</li>
<li>registerElement()</li>
<li>write()</li>
<li>writeln()</li>
</ul>
<h2 id="Element-Api-MDN"><a href="#Element-Api-MDN" class="headerlink" title="Element Api -MDN"></a>Element Api -<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element" target="_blank" rel="noopener">MDN</a></h2><p>关于 DOM API 更多见之后写的常用 API。（待续）</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/24/A26-JS函数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zerolhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zerolhao-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/A26-JS函数/" itemprop="url">A26-JS函数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-24T23:34:02+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Function-MDN"><a href="#Function-MDN" class="headerlink" title="Function -MDN"></a>Function -<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noopener">MDN</a></h2>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var f = function(a,b)&#123;</span><br><span class="line">  return a+b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  语法：<code>new Function ([arg1[, arg2[, ...argN]],] functionBody)</code><br>  参数：<br>  <code>arg1, arg2, ... argN</code><br>  被函数使用的参数的名称必须是合法命名的。参数名称是一个有效的JavaScript标识符的字符串，或者一个用逗号分隔的有效字符串的列表;例如“×”，“theValue”，或“A，B”。<br>  <code>functionBody</code><br>  一个含有包括函数定义的JavaScript语句的字符串</p>
<p>  函数总是会返回一个值<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function fn()&#123;</span><br><span class="line">  console.log(&apos;函数&apos;)</span><br><span class="line">  return undefined // 如果你不写就会自动添加这样的一句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="函数的5种声明方式"><a href="#函数的5种声明方式" class="headerlink" title="函数的5种声明方式"></a>函数的5种声明方式</h2><p>function 有一个属性：<code>name</code></p>
<ol>
<li><p>具名函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function f(x,y)&#123;</span><br><span class="line">  console.log(x+y) // 打印什么和返回什么没有必然联系</span><br><span class="line">  return undefined // 必须有一个return，没有的话也会被自动添加本句</span><br><span class="line">&#125;</span><br><span class="line">f.name // &apos;f&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p>匿名函数<br>它不能单独使用，可以赋给一个变量来使用<a href="https://developer.mozilla.org/zh-CN/docs/web/JavaScript/Reference/Operators/function" target="_blank" rel="noopener">函数表达式</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var f</span><br><span class="line">f = function(x,y)&#123;</span><br><span class="line">    return x+y</span><br><span class="line">&#125;</span><br><span class="line">f.name // &apos;f&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p>具名函数赋值 -<a href="http://javascript.ruanyifeng.com/grammar/function.html#toc1" target="_blank" rel="noopener">阮一峰</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function f()&#123;&#125;</span><br><span class="line">f.name // &apos;f&apos;</span><br><span class="line">console.log(f) // &apos;function f()&#123;&#125;&apos;</span><br><span class="line"></span><br><span class="line">var f2 = function fn()&#123;&#125;</span><br><span class="line">f2.name // &apos;fn&apos;</span><br><span class="line">console.log(fn) // Uncaught ReferenceError: fn is not defined</span><br><span class="line">// 只能在 function fn()&#123;&#125;这个函数里面访问到fn，在外面无效</span><br><span class="line">// js 的不一致性</span><br></pre></td></tr></table></figure>
</li>
<li><p>window.Function 函数对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var f = new FUnction(&apos;x&apos;, &apos;y&apos;, &apos;return x+y&apos;)</span><br><span class="line">f.name // &apos;anonymous&apos;</span><br><span class="line"></span><br><span class="line">var n=1</span><br><span class="line">var fn = new Function(&apos;x&apos;, &apos;y&apos;, &apos;return x+&apos; + n + &apos;+y&apos; ) </span><br><span class="line">console.log(fn) // f anonymous(x,y)&#123; return x+1+y &#125;</span><br><span class="line">fn(1,2) // 4</span><br></pre></td></tr></table></figure>
</li>
<li><p>箭头函数 -<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener">MDN</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var f = (x,y) =&gt; &#123;return x+y&#125;</span><br><span class="line">f.name // &apos;f&apos;</span><br><span class="line"></span><br><span class="line">var f2 = (x,y) =&gt; x+y // 只有一句 return 的时候，可以将 return 和 &#123;&#125; 省略</span><br><span class="line">var f3 = n =&gt; n*n // 如果参数只有一个，() 可以省略</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="函数的本质"><a href="#函数的本质" class="headerlink" title="函数的本质"></a>函数的本质</h2><p>函数是一段可以反复调用的代码块。<br>函数还能接受输入的参数，不同的参数会返回不同的值。<br>函数和数据不同，不能直接使用，只能调用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 定义一个 n</span><br><span class="line">var n=2</span><br><span class="line">// 然后直接使用它就好了</span><br><span class="line">var m = n // 比如将它赋值给 m</span><br><span class="line">console.log(n) // 或者打印出来</span><br><span class="line"></span><br><span class="line">// 定义一个函数</span><br><span class="line">function f(x,y)&#123;</span><br><span class="line">  return x+y</span><br><span class="line">&#125;</span><br><span class="line">f  // 打印出 f 函数，等于啥也没做，return x+y 并没有执行</span><br><span class="line">// 函数只能调用（call）</span><br><span class="line">f(1,2) // 3</span><br></pre></td></tr></table></figure></p>
<h3 id="函数是怎样储存的"><a href="#函数是怎样储存的" class="headerlink" title="函数是怎样储存的"></a>函数是怎样储存的</h3><p><img src="http://upload-images.jianshu.io/upload_images/9047034-ee70f4d296ed3fca.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>函数也是对象的一种，在stack中储存地址，在heap中储存对象，保存的是字符串（就是你定义的函数，参数、函数体等），通过Function.prototype里的call()来调用函数体<br>我们来试着用对象来做一个这样的函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var f = &#123;&#125;</span><br><span class="line">f.name = &apos;f&apos; // 函数本身就有的属性</span><br><span class="line">f.params = [&apos;x&apos;,&apos;y&apos;]  // 模拟参数</span><br><span class="line">f.functionBody = &apos;console.log(1)&apos;  // 模拟函数体，不管参数还是函数体，都是字符串形式</span><br><span class="line">f.call = function()&#123;</span><br><span class="line">  return window.eval(f.functionBody)</span><br><span class="line">&#125;</span><br><span class="line">f.call() </span><br><span class="line">// 1</span><br><span class="line">// undefined， console.log()的返回值</span><br><span class="line">// 这就是为什么说函数是对象，函数调用实际上就是eval()函数的函数体的过程</span><br><span class="line">// f与f.call()区别：f是变量，是函数（这里用的是对象），f.call()是调用函数</span><br></pre></td></tr></table></figure></p>
<p><strong>所以函数就是可以执行代码的对象</strong><br>eval() -<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/eval" target="_blank" rel="noopener">MDN</a><br>eval()函数会将传入的字符串当做JavaScript代码进行执行。</p>
<h3 id="f-1-2-与-f-call-undefined-1-2"><a href="#f-1-2-与-f-call-undefined-1-2" class="headerlink" title="f(1,2) 与 f.call(undefined, 1, 2)"></a>f(1,2) 与 f.call(undefined, 1, 2)</h3><p><img src="http://upload-images.jianshu.io/upload_images/9047034-9bdd51ac634c5f4b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>前者是语法糖，后者才是真正的写法<br>理解这两者的区别才能更好的理解this<br><a href="https://segmentfault.com/a/1190000011819236" target="_blank" rel="noopener">SegmentFault</a></p>
<h3 id="call-怎么用-MDN"><a href="#call-怎么用-MDN" class="headerlink" title="call()怎么用 -MDN"></a>call()怎么用 -<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank" rel="noopener">MDN</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">function f(x,y)&#123; return x+y &#125;</span><br><span class="line">f.call(undefined, 1, 2) // 3</span><br></pre></td></tr></table></figure>
<p>call() 方法调用一个函数, 其具有一个指定的this值和分别地提供的参数(参数的列表)。<br>语法：<code>fun.call(thisArg, arg1, arg2, ...)</code><br>参数：<br>thisArg<br>在fun函数运行时指定的this值。需要注意的是，指定的this值并不一定是该函数执行时真正的this值，<br>如果这个函数处于<strong>非严格模式</strong>下，则指定为null和undefined的this值会自动指向全局对象(浏览器中就是window对象)，<br>同时值为原始值(数字，字符串，布尔值)的this会指向该原始值的自动包装对象。<br>在严格模式下，this将保持他进入执行上下文时的值，所以下面的this将会默认为undefined。(详见this-mdn)<br>arg1, arg2, …<br>指定的参数列表。<br>返回值：返回值是你调用的方法的返回值，若该方法没有返回值，则返回undefined。<br>描述：<br>可以让call()中的对象调用当前对象所拥有的function。<br>你可以使用call()来实现继承： 写一个方法，然后让另外一个新的对象来继承它（而不是在新对象中再写一次这个方法）。</p>
<h3 id="this-MDN-阮一峰-与-arguments-MDN"><a href="#this-MDN-阮一峰-与-arguments-MDN" class="headerlink" title="this -MDN-阮一峰 与 arguments MDN"></a>this -<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/this" target="_blank" rel="noopener">MDN</a>-<a href="http://javascript.ruanyifeng.com/oop/this.html" target="_blank" rel="noopener">阮一峰</a> 与 arguments <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arguments" target="_blank" rel="noopener">MDN</a></h3><p>什么是this，在以下代码中<br><code>f.call(undefined, 1, 2)</code><br><code>undefined</code>就是<code>this</code><br><code>1</code>和<code>2</code>就是<code>arguments</code><br><code>arguments</code>是伪数组别忘了<br>或者说：<br>call的第一个参数可以用this得到<br>call的后面所有参数可以用arguments得到<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">// Eg</span><br><span class="line">var f = function()&#123;</span><br><span class="line">  console.log(this)</span><br><span class="line">  console.log(this === window)</span><br><span class="line">  console.log(arguments)</span><br><span class="line">&#125;</span><br><span class="line">f.call(undefined, 1,2,3)</span><br><span class="line">// log this -&gt; window 对象 原因见上文-call()怎么用</span><br><span class="line">// true</span><br><span class="line">// log arguments -&gt; [1,2,3] 还有一些属性api见mdn</span><br><span class="line"></span><br><span class="line">var f2 = function()&#123;</span><br><span class="line">  &apos;use strict&apos;  // use 严格模式</span><br><span class="line">  console.log(this)</span><br><span class="line">  console.log(this === window)</span><br><span class="line">  console.log(arguments)</span><br><span class="line">&#125;</span><br><span class="line">f2.call(undefined)</span><br><span class="line">// undefined</span><br><span class="line">// false</span><br><span class="line">// []</span><br><span class="line"></span><br><span class="line">f2.call(7)</span><br><span class="line">// 7 false []</span><br><span class="line"> f2.call(&apos;foo&apos;)</span><br><span class="line"> // &apos;foo&apos; false []</span><br><span class="line"></span><br><span class="line">var f3 =  function() &#123;</span><br><span class="line">  console.log(Object.prototype.toString.call(this));</span><br><span class="line">&#125;</span><br><span class="line">//原始值 1 被隐式转换为对象</span><br><span class="line">f3.call(1); // [object Number]</span><br></pre></td></tr></table></figure></p>
<p><strong>注意:</strong> 使用 call 和 apply 函数的时候，如果传递的 this 值不是一个对象，JavaScript 将尝试使用内部 ToObject 操作将其转换为对象。因此，如果传递的值是一个原始值比如 7 或 ‘foo’，那么就会使用相关构造函数将它转换为对象，所以原始值 7 通过new Number(7)被转换为对象，而字符串’foo’使用 new String(‘foo’) 转化为对象。（这一点上文也有描述）<br>this 也是为了长得像 java 而诞生的，和 new 一样</p>
<h2 id="call-stack-调用栈"><a href="#call-stack-调用栈" class="headerlink" title="call stack 调用栈"></a>call stack 调用栈</h2><p>表示函数或子例程像堆积木一样存放，以实现层层调用。<br>别忘了栈是先入后出。<br><img src="http://upload-images.jianshu.io/upload_images/9047034-85dfa91ff6fc6193.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="嵌套调用"></p>
<ul>
<li><a href="http://latentflip.com/loupe/?code=ZnVuY3Rpb24gYSgpewogICAgY29uc29sZS5sb2coJ2EnKQogIHJldHVybiAnYScgIAp9CgpmdW5jdGlvbiBiKCl7CiAgICBjb25zb2xlLmxvZygnYicpCiAgICByZXR1cm4gJ2InCn0KCmZ1bmN0aW9uIGMoKXsKICAgIGNvbnNvbGUubG9nKCdjJykKICAgIHJldHVybiAnYycKfQoKYS5jYWxsKCkKYi5jYWxsKCkKYy5jYWxsKCk%3D!!!" target="_blank" rel="noopener">普通调用</a></li>
<li><a href="http://latentflip.com/loupe/?code=ZnVuY3Rpb24gYSgpewogICAgY29uc29sZS5sb2coJ2ExJykKICAgIGIuY2FsbCgpCiAgICBjb25zb2xlLmxvZygnYTInKQogIHJldHVybiAnYScgIAp9CmZ1bmN0aW9uIGIoKXsKICAgIGNvbnNvbGUubG9nKCdiMScpCiAgICBjLmNhbGwoKQogICAgY29uc29sZS5sb2coJ2IyJykKICAgIHJldHVybiAnYicKfQpmdW5jdGlvbiBjKCl7CiAgICBjb25zb2xlLmxvZygnYycpCiAgICByZXR1cm4gJ2MnCn0KYS5jYWxsKCkKY29uc29sZS5sb2coJ2VuZCcp!!!" target="_blank" rel="noopener">嵌套调用</a></li>
<li><p><a href="http://latentflip.com/loupe/?code=ZnVuY3Rpb24gc3VtKG4pewogICAgaWYobj09MSl7CiAgICAgICAgcmV0dXJuIDEKICAgIH1lbHNlewogICAgICAgIHJldHVybiBuICsgc3VtLmNhbGwodW5kZWZpbmVkLCBuLTEpCiAgICB9Cn0KCnN1bS5jYWxsKHVuZGVmaW5lZCw1KQ%3D%3D!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D" target="_blank" rel="noopener">递归调用</a><br>stack overflow 栈溢出<br>call stack 超过电脑分配空间就会出现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function sum(n)&#123;</span><br><span class="line">    if(n==1)&#123;</span><br><span class="line">        return 1</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return n + sum.call(undefined, n-1)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sum.call(undefined,5) //15</span><br><span class="line"></span><br><span class="line">sum.call(undefined, 100000)</span><br><span class="line">// Uncaught RangeError: Maximum call stack size exceeded</span><br><span class="line">// 最大调用栈大小超过</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Call_stack" target="_blank" rel="noopener">call stack-mdn</a></p>
</li>
<li><a href="http://www.ruanyifeng.com/blog/2013/11/stack.html" target="_blank" rel="noopener">call stack-阮一峰</a></li>
<li><a href="https://www.wikiwand.com/zh-hans/%E5%A0%86%E7%96%8A%E6%BA%A2%E4%BD%8D" target="_blank" rel="noopener">stack overflow-wiki</a></li>
<li><a href="https://stackoverflow.com/" target="_blank" rel="noopener">stackoverflow.com</a>捏他的同名程序问答网站</li>
<li><a href="https://segmentfault.com/" target="_blank" rel="noopener">国内版stackoverflow-&gt;SegmentFault</a></li>
</ul>
<h2 id="作用域-MDN-阮一峰"><a href="#作用域-MDN-阮一峰" class="headerlink" title="作用域 -MDN-阮一峰"></a>作用域 -<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Scope" target="_blank" rel="noopener">MDN</a>-<a href="http://www.ruanyifeng.com/blog/2009/08/learning_javascript_closures.html" target="_blank" rel="noopener">阮一峰</a></h2><ul>
<li>按照语法树，就近原则</li>
<li>我们只能确定变量是哪个变量，但是不能确定变量的值<h3 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h3>拿到代码直接做——必然会错。请先提升声明<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// 1.</span><br><span class="line">var a = 1</span><br><span class="line">function f1()&#123;</span><br><span class="line">    alert(a) // 是多少</span><br><span class="line">    var a = 2</span><br><span class="line">&#125;</span><br><span class="line">f1.call() // undefined</span><br><span class="line"></span><br><span class="line">// 2.</span><br><span class="line">var a = 1</span><br><span class="line">function f1()&#123;</span><br><span class="line">    var a = 2</span><br><span class="line">    f2.call()</span><br><span class="line">&#125;</span><br><span class="line">function f2()&#123;</span><br><span class="line">    console.log(a) // 是多少</span><br><span class="line">&#125;</span><br><span class="line">f1.call() // 1</span><br><span class="line"></span><br><span class="line">// 3.</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt; &lt;li&gt;5&lt;/li&gt; &lt;li&gt;6&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">var liTags = document.querySelectorAll(&apos;li&apos;)</span><br><span class="line">for(var i = 0; i &lt; liTags.length; i++)&#123;</span><br><span class="line">    liTags[i].onclick = function()&#123;</span><br><span class="line">        console.log(i) // 点击第3个 li 时，打印 2 还是打印 6？</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 打印 6</span><br><span class="line">// 当你点击时for早就遍历完，i 已经自增到 6</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="闭包-MDN-方应杭"><a href="#闭包-MDN-方应杭" class="headerlink" title="闭包 -MDN-方应杭"></a>闭包 -<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures" target="_blank" rel="noopener">MDN</a>-<a href="https://zhuanlan.zhihu.com/p/22486908" target="_blank" rel="noopener">方应杭</a></h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/20/A25-JS数组/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zerolhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zerolhao-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/20/A25-JS数组/" itemprop="url">A25-JS数组</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-20T23:34:15+08:00">
                2018-01-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><h2 id="Array-MDN"><a href="#Array-MDN" class="headerlink" title="Array -MDN"></a><code>Array</code> -<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener">MDN</a></h2><p>window.Array 全局对象（也是函数）</p>
<ul>
<li><p>基本用法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var a = Array(3)  // &#123;length: 3&#125;</span><br><span class="line">a.length // 3</span><br><span class="line">0 in a // false, 数组 a 里面并没有 0 这个 key</span><br><span class="line">a[0] // undefined</span><br><span class="line">a.push(&apos;three&apos;)</span><br><span class="line">3 in a // true</span><br><span class="line">a[3] // &apos;three&apos;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/9047034-b91253072572d58b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a2 = Array(3,3) // [3,3]</span><br><span class="line">a2.length // 2</span><br><span class="line">0 in a2 // true</span><br><span class="line">a2[0] // 3 </span><br><span class="line">// 当括号里只有一个数字参数的时候，它是长度，当参数不止一个的时候它是参数</span><br><span class="line">// 这叫做不一致性，这不是一件好事</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/9047034-c979044ed221b927.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">new Array(3) 跟不加 new 一样的效果</span><br><span class="line">new Array(3,3,) 跟不加 new 一样的效果</span><br><span class="line">  </span><br><span class="line">var a = [1,2,3] // 常用简写方式</span><br></pre></td></tr></table></figure>
</li>
<li><p>加不加<code>new</code>对不同类型的区别：</p>
<ul>
<li><code>String、Number、Boolean</code><br><code>String()</code>返回基本类型<br><code>new String()</code>返回对象</li>
<li><code>Object、Array、Function</code><br><code>Object()</code>返回对象<br><code>new Object()</code>返回依然是对象</li>
</ul>
</li>
<li>数组为什么是数组而不是对象是因为数组有着对象没有的特点<br>也就是你的对象的<code>__proto__</code>指向的是否是<code>Array.prototype</code><br><img src="http://upload-images.jianshu.io/upload_images/9047034-3f3ffb2c07e02a89.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li><p>数组的一个特征<br>数组之所以是数组，其实是因为你把它数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var a = [1,2,3]</span><br><span class="line">a.x = &apos;x&apos;</span><br><span class="line">a.y = &apos;y&apos;</span><br><span class="line">for(let i=0; i &lt; a.length; i++)&#123; // 这种方法遍历排除了 x、y</span><br><span class="line">  console.log(a[i]) // 1, 2, 3</span><br><span class="line">&#125;</span><br><span class="line">for(let key in a)&#123;</span><br><span class="line">  console.log(key) // 0, 1, 2, x, y</span><br><span class="line">&#125;</span><br><span class="line">var obj = &#123;</span><br><span class="line">  0: 1, 1: 2, 2: 3, length: 3</span><br><span class="line">&#125;</span><br><span class="line">for(let i=0; i &lt; obj.length; i++)&#123;</span><br><span class="line">  console.log(obj[i]) // 1, 2, 3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>伪数组<br>上面的<code>obj</code>对象就是伪数组；它不关心你有没有数组的那些方法，只需要012345……这些下标去遍历<br>只要你的原型链中没有<code>Array.prototype</code>就是伪数组<br>目前JS中只有一种伪数组，就是<code>arguments</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  function f()&#123; console.dir(arguments) &#125;</span><br><span class="line">  f(1,2,3)</span><br><span class="line">  ```   </span><br><span class="line">  从下图可以看见它引用的是`Object.protype`而非`Array.prototype`</span><br><span class="line">  ![](http://upload-images.jianshu.io/upload_images/9047034-54e385e6ddc2d1bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line">- `forEach`API -[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach)[阮一峰](http://javascript.ruanyifeng.com/stdlib/array.html#toc15)</span><br><span class="line">  forEach() 方法对数组的每个元素执行一次提供的函数。</span><br><span class="line">  语法：</span><br></pre></td></tr></table></figure>
<p>array.forEach(callback(currentValue, index, array){</p>
<pre><code>//do something
</code></pre><p>}, this)</p>
<p>array.forEach(callback[, thisArg])</p>
<p>// Eg<br>const arr = [‘a’, ‘b’, ‘c’];</p>
<p>arr.forEach(function(element) {</p>
<pre><code>console.log(element);
</code></pre><p>});<br>arr.forEach( element =&gt; console.log(element));<br>// a<br>// b<br>// c</p>
<p>// 上面我们并没有将arr传进forEach里面但是为什么还能调用<br>// 可以这么理解<br>// 用this来获取，比如<br>var obj = { 0:’a’, 1:’b’, length:2 }<br>obj.forEach = function(fn){<br>  for(let i=0; i &lt; this.length; i++){</p>
<pre><code>fn(this[i], i, this)
</code></pre><p>  }<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">  参数：</span><br><span class="line">  `callback`</span><br><span class="line">  为数组中每个元素执行的函数，该函数接收三个参数：</span><br><span class="line">  `currentValue`(当前值)</span><br><span class="line">  数组中正在处理的当前元素。</span><br><span class="line">  `index`(索引)</span><br><span class="line">  数组中正在处理的当前元素的索引。</span><br><span class="line">  `array`</span><br><span class="line">  `forEach()`方法正在操作的数组。</span><br><span class="line">  `thisArg`可选</span><br><span class="line">  可选参数。当执行回调 函数时用作this的值(参考对象)。</span><br><span class="line">  返回值：`undefined`.</span><br><span class="line">- `sort()` -[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/sort)[阮一峰](http://javascript.ruanyifeng.com/stdlib/array.html#toc13)</span><br><span class="line">  sort方法对数组成员进行排序，默认排序顺序是根据字符串Unicode码点。 sort 排序不一定是稳定的排序后，原数组将被改变。</span><br></pre></td></tr></table></figure>
<p>[‘d’, ‘c’, ‘b’, ‘a’].sort()<br>// [‘a’, ‘b’, ‘c’, ‘d’]</p>
<p>[4, 3, 2, 1].sort()<br>// [1, 2, 3, 4]</p>
<p>var fruit = [‘cherries’, ‘apples’, ‘bananas’];<br>fruit.sort();<br>// [‘apples’, ‘bananas’, ‘cherries’]</p>
<p>var scores = [1, 10, 21, 2];<br>scores.sort();<br>// [1, 10, 2, 21]<br>// 注意10在2之前,<br>// 因为在 Unicode 指针顺序中”10”在”2”之前</p>
<p>var things = [‘word’, ‘Word’, ‘1 Word’, ‘2 Words’];<br>things.sort();<br>// [‘1 Word’, ‘2 Words’, ‘Word’, ‘word’]<br>// 在Unicode中, 数字在大写字母之前,<br>// 大写字母在小写字母之前.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">`arr.sort()`    </span><br><span class="line">`arr.sort(compareFunction)`</span><br><span class="line">参数:</span><br><span class="line">`compareFunction`</span><br><span class="line">可选。用来指定按某种顺序进行排列的函数。如果省略，元素按照转换为的字符串的各个字符的Unicode位点进行排序。</span><br><span class="line">返回值: 返回排序后的数组。原数组已经被排序后的数组代替。</span><br><span class="line">描述：</span><br><span class="line">如果没有指明 `compareFunction` ，那么元素会按照转换为的字符串的诸个字符的 Unicode 位点进行排序。例如 &quot;Banana&quot; 会被排列到 &quot;cherry&quot; 之前。当数字按由小到大排序时，9 出现在 80 之前，但因为（没有指明 `compareFunction`），比较的数字会先被转换为字符串，所以在Unicode顺序上 &quot;80&quot; 要比 &quot;9&quot; 要靠前。</span><br><span class="line">如果指明了 `compareFunction` ，那么数组会按照调用该函数的返回值排序。即 a 和 b 是两个将要被比较的元素：</span><br><span class="line">  + 如果 `compareFunction(a, b)` 小于 0 ，那么 a 会被排列到 b 之前；</span><br><span class="line">  + 如果 `compareFunction(a, b)` 大于 0 ， b 会被排列到 a 之前</span><br><span class="line">  + 如果 `compareFunction(a, b)` 等于 0 ， a 和 b 的相对位置不变</span><br><span class="line">  + `compareFunction(a, b)` 必须总是对相同的输入返回相同的比较结果，否则排序的结果将是不确定的。</span><br></pre></td></tr></table></figure>
<p>// 对数字排序<br>var a = [5,6,4,1,2,3]<br>// 升序<br>function up(a, b) {<br>  if (a &lt; b ) {           // 按某种排序标准进行比较, a 小于 b</p>
<pre><code>return -1;
</code></pre><p>  }<br>  if (a &gt; b ) {</p>
<pre><code>return 1;
</code></pre><p>  }<br>  // a must be equal to b<br>  return 0;<br>}<br>// 更简洁的写法<br>function up(a,b){<br>  return a-b<br>}<br>a.sort(up) // 1,2,3,4,5,6</p>
<p>// 降序<br>function down(a,b){<br>  return b-a<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  js内置的排序一般都是快排</span><br><span class="line">- `join()` -[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/join)</span><br><span class="line">  join() 方法将一个数组（或一个类数组对象）的所有元素连接成一个字符串并返回这个字符串。</span><br><span class="line">  和sort()方法不同，它不会改变原有的数组</span><br><span class="line">  语法:</span><br></pre></td></tr></table></figure>
<p>str = arr.join()<br>// 默认为 “,”</p>
<p>str = arr.join(“”)<br>// 分隔符 === 空字符串 “”</p>
<p>str = arr.join(separator)<br>// 分隔符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">参数:</span><br><span class="line">`separator`</span><br><span class="line">指定一个字符串来分隔数组的每个元素。</span><br><span class="line">如果需要(`separator`)，将分隔符转换为字符串。</span><br><span class="line">如果省略()，数组元素用逗号分隔。默认为 &quot;,&quot;。</span><br><span class="line">如果separator是空字符串(&quot;&quot;)，则所有元素之间都没有任何字符。</span><br><span class="line">返回值</span><br><span class="line">一个所有数组元素连接的字符串。如果 arr.length 为0，则返回空字符串</span><br></pre></td></tr></table></figure>
<p>// Eg<br>let a = [‘Wind’, ‘Rain’, ‘Fire’];</p>
<p>console.log(a.join());<br>// 默认为 “,”<br>// ‘Wind,Rain,Fire’</p>
<p>console.log(a.join(“”));<br>// 分隔符 === 空字符串 “”<br>// “WindRainFire”</p>
<p>console.log(a.join(“-“));<br>// 分隔符 “-“<br>// ‘Wind-Rain-Fire’</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- `concat()` -[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/concat)</span><br><span class="line">  concat() 方法用于合并两个或多个数组。此方法不会更改现有数组，而是返回一个新数组。</span><br><span class="line">  语法:</span><br><span class="line">  `var new_array = old_array.concat(value1[, value2[, ...[, valueN]]])`</span><br><span class="line">  参数：valueN</span><br><span class="line">  将数组和/或值连接成新数组。</span><br><span class="line">  返回值：新的 Array 实例。</span><br></pre></td></tr></table></figure>
<p>var arr1 = [‘a’, ‘b’, ‘c’];<br>var arr2 = [‘d’, ‘e’, ‘f’];</p>
<p>var arr3 = arr1.concat(arr2);</p>
<p>// arr3 is a new array [ “a”, “b”, “c”, “d”, “e”, “f” ]</p>
<p>// 使用 concat 来复制一个数组<br>var a = [1,2,3]<br>bar b = a.concat([])<br>a === b // false</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- `map()` -[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map)[阮一峰](http://javascript.ruanyifeng.com/stdlib/array.html#toc14)</span><br><span class="line">  map() 方法创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。</span><br><span class="line">  map与forEach类似，不同的是它返回一个新数组，而forEach返回undefined。</span><br><span class="line">  语法:</span><br></pre></td></tr></table></figure>
<p>let new_array = arr.map(function callback(currentValue, index, array) { </p>
<pre><code>// Return element for new_array 
</code></pre><p>}[, thisArg])</p>
<p>// Eg<br>var numbers = [1, 2, 3];</p>
<p>numbers.map(function (n) {<br>  return n + 1;<br>});<br>// [2, 3, 4]</p>
<p>numbers<br>// [1, 2, 3]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  参数:</span><br><span class="line">  `callback`</span><br><span class="line">  生成新数组元素的函数，使用三个参数：</span><br><span class="line">  `currentValue`</span><br><span class="line">  callback 的第一个参数，数组中正在处理的当前元素。</span><br><span class="line">  `index`</span><br><span class="line">  callback 的第二个参数，数组中正在处理的当前元素的索引。</span><br><span class="line">  `array`</span><br><span class="line">  callback 的第三个参数，map 方法被调用的数组。</span><br><span class="line">  `thisArg`</span><br><span class="line">  可选的。执行 callback 函数时 使用的this 值。</span><br><span class="line">  返回值:</span><br><span class="line">  一个新数组，每个元素都是回调函数的结果。</span><br><span class="line">- `filter()` -[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)</span><br><span class="line">  filter() 方法创建一个新数组, 其包含通过所提供函数实现的测试的所有元素。 </span><br><span class="line">  语法:</span><br><span class="line">  `var new_array = arr.filter(callback[, thisArg])`</span><br><span class="line">  返回值: 一个新的通过测试的元素的集合的数组</span><br><span class="line">  ES6:</span><br><span class="line">  let [...spread]= [12, 5, 8, 130, 44];</span><br><span class="line">  等同于：let spread = 浅克隆([12, 5, 8, 130, 44])</span><br></pre></td></tr></table></figure>
<p>function isBigEnough(value) {<br>  return value &gt;= 10;<br>}</p>
<p>var filtered = [12, 5, 8, 130, 44].filter(isBigEnough);</p>
<p>// filtered is [12, 130, 44]</p>
<p>// ES6 way</p>
<p>const isBigEnough = value =&gt; value &gt;= 10; // 这里用的箭头函数</p>
<p>let […spread]= [12, 5, 8, 130, 44];</p>
<p>let filtered = spread.filter(isBigEnough);</p>
<p>// filtered is [12, 130, 44]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">- `reduce()` -[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)</span><br><span class="line">  reduce() 方法对累加器和数组中的每个元素（从左到右）应用一个函数，将其减少为单个值。</span><br><span class="line">  语法：`arr.reduce(callback(accumulator,currentValue)[, initialValue])`</span><br><span class="line">  参数</span><br><span class="line">  `callback`</span><br><span class="line">  执行数组中每个值的函数，包含四个参数：</span><br><span class="line">    `accumulator`</span><br><span class="line">    累加器累加回调的返回值; 它是上一次调用回调时返回的累积值，或initialValue（如下所示）。</span><br><span class="line">    </span><br><span class="line">    `currentValue`</span><br><span class="line">    数组中正在处理的元素。</span><br><span class="line">    `currentIndex`</span><br><span class="line">    数组中正在处理的当前元素的索引。 如果提供了initialValue，则索引号为0，否则为索引为1。</span><br><span class="line">    `array`</span><br><span class="line">    调用reduce的数组</span><br><span class="line">  `initialValue`</span><br><span class="line">  可选,用作第一个调用callback的第一个参数的值。 如果没有提供初始值，则将使用数组中的第一个元素。在没有初始值的空数组上调用 reduce 将报错。</span><br><span class="line">  返回值: 函数累计处理的结果</span><br></pre></td></tr></table></figure>
<p>var total = [0, 1, 2, 3].reduce(function(sum, value) {<br>  return sum + value;<br>}, 0);<br>// total is 6</p>
<p>var flattened = [[0, 1], [2, 3], [4, 5]].reduce(function(a, b) {<br>  return a.concat(b);<br>}, []);<br>// flattened is [0, 1, 2, 3, 4, 5]</p>
<p>// 使用 reduce 表示 map<br>var a = [1,2,3]<br>a.map(function(value){<br>  return value * 2<br>})</p>
<p>a.reduce(function(arr, n){<br>  arr.push(n*2)<br>  return arr<br>}, [])</p>
<p>// 使用 reduce 表示 filter<br>var b = [1,2,3,4,5,6,7,8,9,10]<br>b.filter(function(value){<br>  return value % 2 === 0<br>})</p>
<p>b.reduce(function(arr, n){<br>  if(n % 2 === 0){</p>
<pre><code>arr.push(n)
</code></pre><p>  }<br>  reruen arr<br>},[])</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">- ## `Function` -[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>// 常用简写方式<br>var f = function(a,b){<br>  return a+b<br>}</p>
<p>var f = new Function(‘a’, ‘b’, ‘return a+b’) //使用 new 进行构造，<br>var f = new Function([‘a’,’b’],’return a+b’)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">语法：`new Function ([arg1[, arg2[, ...argN]],] functionBody)`</span><br><span class="line">参数：</span><br><span class="line">`arg1, arg2, ... argN`</span><br><span class="line">被函数使用的参数的名称必须是合法命名的。参数名称是一个有效的JavaScript标识符的字符串，或者一个用逗号分隔的有效字符串的列表;例如“×”，“theValue”，或“A，B”。</span><br><span class="line">`functionBody`</span><br><span class="line">一个含有包括函数定义的JavaScript语句的字符串</span><br><span class="line"></span><br><span class="line">函数总是会返回一个值</span><br></pre></td></tr></table></figure>
<p>function fn(){<br>  console.log(‘函数’)<br>  return undefined // 如果你不写就会自动添加这样的一句<br>}<br>```</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/17/A22-JS里的对象/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zerolhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zerolhao-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/17/A22-JS里的对象/" itemprop="url">A22-JS里的对象</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-17T23:37:46+08:00">
                2018-01-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><h2 id="全局对象-window"><a href="#全局对象-window" class="headerlink" title="全局对象 window"></a>全局对象 window</h2><p>ECMAScript 规定全局对象叫做 global，但是浏览器把 window 作为全局对象（浏览器先存在的）<br>window 就是一个哈希表，有很多属性。<br>window 的属性就是全局变量。<br>使用window的属性可以不加<code>window.</code>,<br>比如<code>window.alert(&#39;警告&#39;)</code>可以写成<code>alert(&#39;警告&#39;)</code><br>这些全局变量分为两种：</p>
<p>一种是 ECMAScript 规定的</p>
<ul>
<li>global.parseInt</li>
<li>global.parseFloat</li>
<li>global.Number</li>
<li>global.String</li>
<li>global.Boolean</li>
<li>global.Object</li>
</ul>
<p>一种是浏览器自己加的属性</p>
<ul>
<li>window.alert</li>
<li>window.prompt</li>
<li>window.comfirm</li>
<li>window.console.log</li>
<li>window.console.dir</li>
<li>window.document<br>// document由浏览器实现，但是也有一个自己的标准，那就是 DOM，它的标准由 W3C 制定</li>
<li>window.document.createElement</li>
<li>window.document.getElementById<br>所有 API 都可以在 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window" target="_blank" rel="noopener">MDN</a> 里找到详细的资料。</li>
</ul>
</li>
<li><h2 id="全局函数-amp-简单类型与对象的区别"><a href="#全局函数-amp-简单类型与对象的区别" class="headerlink" title="全局函数&amp;简单类型与对象的区别"></a>全局函数&amp;简单类型与对象的区别</h2><h3 id="1-Number"><a href="#1-Number" class="headerlink" title="1. Number()"></a>1. Number()</h3><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank" rel="noopener">MDN</a> </li>
<li><a href="http://javascript.ruanyifeng.com/stdlib/number.html#toc6" target="_blank" rel="noopener">阮一峰</a></li>
<li><code>Number(&#39;1&#39;)  // 1 强制转换</code></li>
<li><code>var n = new Number(1)  // 返回一个值为1的对象</code><br>在这里，Number()对象作为构造函数使用，用来生成值为数值的对象。</li>
<li><p>和直接赋值数字也就是简单类型的区别：</p>
<ul>
<li>一个是简单类型，一个是复杂类型</li>
<li>两者对内存的使用不同，假设有<br><code>var n1 = 1</code><br><code>var n2 = new Number(1)</code><br>内存图：<img src="http://upload-images.jianshu.io/upload_images/9047034-c00bbbd2359c024d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li>包装对象有许多便捷的操作</li>
<li>你可以通过<code>valueOf()</code>来获得<code>n2</code>的原始值<code>1</code></li>
<li><p>其它还有</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">toString() // 获得字符串形式</span><br><span class="line">toFixed() // 转为指定位数的小数，返回这个小数对应的字符串</span><br><span class="line">toExponential() // 将一个数转为科学计数法形式</span><br><span class="line">toPrecision() // 将一个数转为指定位数的有效数字</span><br><span class="line"></span><br><span class="line">(10).toString() // &quot;10&quot;</span><br><span class="line">// toString方法可以接受一个参数，表示输出的进制。如果省略这个参数，默认将数值先转为十进制，再输出字符串；否则，就根据参数指定的进制，将一个数字转化成某个进制的字符串。</span><br><span class="line">(10).toString(2) // &quot;1010&quot;</span><br><span class="line">(10).toString(8) // &quot;12&quot;</span><br><span class="line">(10).toString(16) // &quot;a&quot;</span><br><span class="line"></span><br><span class="line">// 上面代码中，之所以要把10放在括号里，是为了表明10是一个单独的数值，后面的点表示调用对象属性。如果不加括号，这个点会被JavaScript引擎解释成小数点，从而报错。</span><br><span class="line"></span><br><span class="line">// 只要能够让JavaScript引擎不混淆小数点和对象的点运算符，各种写法都能用。除了为10加上括号，还可以在10后面加两个点，JavaScript会把第一个点理解成小数点（即10.0），把第二个点理解成调用对象属性，从而得到正确结果。</span><br><span class="line">10..toString(2) // &quot;1010&quot;</span><br><span class="line"></span><br><span class="line">// 其他方法还包括</span><br><span class="line">10 .toString(2) // &quot;1010&quot;</span><br><span class="line">10.0.toString(2) // &quot;1010&quot;</span><br><span class="line"></span><br><span class="line">// toFixed方法用于将一个数转为指定位数的小数，返回这个小数对应的字符串。</span><br><span class="line">(10).toFixed(2) // &quot;10.00&quot;</span><br><span class="line">10.005.toFixed(2) // &quot;10.01&quot;</span><br><span class="line"></span><br><span class="line">// toExponential方法的参数表示小数点后有效数字的位数，范围为0到20，超出这个范围，会抛出一个RangeError。</span><br><span class="line">(10).toExponential()  // &quot;1e+1&quot;</span><br><span class="line">(10).toExponential(1) // &quot;1.0e+1&quot;</span><br><span class="line">(10).toExponential(2) // &quot;1.00e+1&quot;</span><br><span class="line"></span><br><span class="line">(1234).toExponential()  // &quot;1.234e+3&quot;</span><br><span class="line">(1234).toExponential(1) // &quot;1.2e+3&quot;</span><br><span class="line">(1234).toExponential(2) // &quot;1.23e+3&quot;</span><br><span class="line"></span><br><span class="line">// toPrecision方法的参数为有效数字的位数，范围是1到21，超出这个范围会抛出RangeError错误。</span><br><span class="line">(12.34).toPrecision(1) // &quot;1e+1&quot;</span><br><span class="line">(12.34).toPrecision(2) // &quot;12&quot;</span><br><span class="line">(12.34).toPrecision(3) // &quot;12.3&quot;</span><br><span class="line">(12.34).toPrecision(4) // &quot;12.34&quot;</span><br><span class="line">(12.34).toPrecision(5) // &quot;12.340&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>两种赋值方式的历史：<br><code>var n = new Number(1)</code>是当初被要求要像java才做出来的方式，实际上更受人喜欢的依然是<code>var n = 1</code>，<br>但是这样方式无法使用Number对象的方法怎么办，于是又有了下面的东西；</p>
</li>
<li><p>基本包装类型<br>理论上基本类型是不能没有<code>toString()</code>之类的方法的，然而实际上却可以使用，<br>这是因为每当地区一个基本类型值的时候，后台就会创建一个对应的基本包装类型的对象，从而让我们能够调用一些方法来操作这些数据，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var n = 1  // 1</span><br><span class="line">var s = n.toString()  // &apos;1&apos;</span><br><span class="line">// 后台自动操作</span><br><span class="line">var temp = new Number(n)  // 创建一个 Number 类型的实例</span><br><span class="line">temp.toString()  // 调用指定方法</span><br><span class="line">// 然后将temp.toString()的值作为n.toString()的值</span><br><span class="line">// 最后销毁temp，释放空间</span><br><span class="line">// 所以这是一种临时的转换，基本类型实际上并没有属性，</span><br></pre></td></tr></table></figure>
<p>也因此，<code>var n = new Number(1)</code>这种方式基本不再被大家所使用</p>
</li>
<li><p>思考题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var n = 1</span><br><span class="line">n.xxx = 2</span><br><span class="line">// 问：是否会报错？</span><br><span class="line">// NO!</span><br><span class="line">n.xxx  = 2 // 2</span><br><span class="line">n.xxx  // undefined</span><br></pre></td></tr></table></figure>
<p>解析：n.xxx = 2这段代码执行时新建了一个临时变量temp以及属性xxx储存值2，所以不会报错，<br>但是执行 n.xxx 的时候浏览器显示的却是 undefined，这是因为 temp 是临时创建出来了，使用后会立即销毁，执行 n.xxx 的时候上一句代码创建的临时temp已经被销毁了，这时候又是一个新的temp，它并没有xxx这个属性以及值<br><img src="http://upload-images.jianshu.io/upload_images/9047034-e4c77c7406ce4aa3.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
</li>
<li>String()和Boolean()也是同理</li>
<li><a href="http://javascript.ruanyifeng.com/stdlib/wrapper.html" target="_blank" rel="noopener">阮一峰</a></li>
<li>JavaScript高级程序设计第五章-5.6-基本包装类型<h3 id="2-String"><a href="#2-String" class="headerlink" title="2. String()"></a>2. String()</h3></li>
</ul>
</li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener">MDN</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/First_steps/Useful_string_methods" target="_blank" rel="noopener">MDN学习教程</a></li>
<li><a href="http://javascript.ruanyifeng.com/stdlib/string.html" target="_blank" rel="noopener">阮一峰</a></li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">var s = &apos;abc&apos;</span><br><span class="line">var s2 = new String(s)</span><br><span class="line"></span><br><span class="line">// charAt方法返回指定位置的字符，参数是从0开始编号的位置。</span><br><span class="line">s.charAt(1) // &quot;b&quot;</span><br><span class="line">s.charAt(s.length - 1) // &quot;c&quot;</span><br><span class="line">// 这个方法完全可以用数组下标替代。</span><br><span class="line">&apos;abc&apos;.charAt(1) // &quot;b&quot;</span><br><span class="line">&apos;abc&apos;[1] // &quot;b&quot;</span><br><span class="line">// 如果参数为负数，或大于等于字符串的长度，charAt返回空字符串。</span><br><span class="line">&apos;abc&apos;.charAt(-1) // &quot;&quot;</span><br><span class="line">&apos;abc&apos;.charAt(3) // &quot;&quot;</span><br><span class="line"></span><br><span class="line">// charCodeAt方法返回给定位置字符的Unicode码点（十进制表示），相当于String.fromCharCode()的逆操作。</span><br><span class="line">&apos;abc&apos;.charCodeAt(1) // 98</span><br><span class="line">// 如果没有任何参数，charCodeAt返回首字符的Unicode码点。</span><br><span class="line">&apos;abc&apos;.charCodeAt() // 97</span><br><span class="line">// 如何返回 16 进制表示的Unicode码点</span><br><span class="line">&apos;abc&apos;.charCodeAt(0).toString(16)</span><br><span class="line"></span><br><span class="line">// trim方法用于去除字符串两端的空格，返回一个新字符串，不改变原字符串。</span><br><span class="line">&apos;  hello world  &apos;.trim()  // &quot;hello world&quot;</span><br><span class="line">// 该方法去除的不仅是空格，还包括制表符（\t、\v）、换行符（\n）和回车符（\r）。</span><br><span class="line">&apos;\r\nabc \t&apos;.trim()  // &apos;abc&apos;</span><br><span class="line"></span><br><span class="line">// concat方法用于连接两个字符串，返回一个新字符串，不改变原字符串。</span><br><span class="line">var s1 = &apos;abc&apos;;</span><br><span class="line">var s2 = &apos;def&apos;;</span><br><span class="line">s1.concat(s2) // &quot;abcdef&quot;</span><br><span class="line">s1  // &quot;abc&quot;</span><br><span class="line">s2  // &quot;def&quot;</span><br><span class="line">// 该方法可以接受多个参数。</span><br><span class="line">&apos;a&apos;.concat(&apos;b&apos;, &apos;c&apos;) // &quot;abc&quot;</span><br><span class="line"></span><br><span class="line">// slice方法用于从原字符串取出子字符串并返回，不改变原字符串。</span><br><span class="line">// 它的第一个参数是子字符串的开始位置，第二个参数是子字符串的结束位置（不含该位置）。</span><br><span class="line">&apos;JavaScript&apos;.slice(0, 4) // &quot;Java&quot;</span><br><span class="line">// 如果省略第二个参数，则表示子字符串一直到原字符串结束。</span><br><span class="line">&apos;JavaScript&apos;.slice(4) // &quot;Script&quot;</span><br><span class="line">// 如果参数是负值，表示从结尾开始倒数计算的位置，即该负值加上字符串长度。</span><br><span class="line">&apos;JavaScript&apos;.slice(-6) // &quot;Script&quot;</span><br><span class="line">&apos;JavaScript&apos;.slice(0, -6) // &quot;Java&quot;</span><br><span class="line">&apos;JavaScript&apos;.slice(-2, -1) // &quot;p&quot;</span><br><span class="line">// 如果第一个参数大于第二个参数，slice方法返回一个空字符串。</span><br><span class="line">&apos;JavaScript&apos;.slice(2, 1) // &quot;&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>String()有很多api，这里只写了几个常用的，更多详见上面两个链接</p>
<h3 id="3-Boolean"><a href="#3-Boolean" class="headerlink" title="3. Boolean()"></a>3. Boolean()</h3></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank" rel="noopener">MDN</a></li>
<li><a href="http://javascript.ruanyifeng.com/stdlib/wrapper.html#toc6" target="_blank" rel="noopener">阮一峰</a></li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var b = new Boolean(true)</span><br><span class="line">b.toString()  // &apos;true&apos;</span><br><span class="line">b.valueOf()  // true</span><br><span class="line"></span><br><span class="line">// 踩坑</span><br><span class="line">var f = false</span><br><span class="line">var f2 = new Boolean(false)</span><br><span class="line">if(f) &#123; console.log(1) &#125;</span><br><span class="line">if(f2) &#123; console.log(2) &#125;</span><br><span class="line">// 问：会打印出什么？</span><br><span class="line">2  // 只打印 2，因为 f2 并不是 false，因为它是一个对象，而对象是 true     </span><br><span class="line">// 别忘记js中只有 NAN、null、undefined、&apos;&apos;、0是false，而对象和其它的都是true</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="4-Object"><a href="#4-Object" class="headerlink" title="4. Object()"></a>4. Object()</h3><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener">MDN</a></li>
<li><a href="http://javascript.ruanyifeng.com/stdlib/object.html" target="_blank" rel="noopener">阮一峰</a></li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var o = &#123;&#125;</span><br><span class="line">var o2 = new Object()</span><br><span class="line">// 这两种写法的结果没有任何区别，因为 对象 本身是复杂类型，但是</span><br><span class="line">o === o2  // false</span><br><span class="line">// 这是因为它们虽然都创建一个空对象，但是地址并不一样，是两个地址不同拥有自己空间的空对象</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><h2 id="公共属性（原型）"><a href="#公共属性（原型）" class="headerlink" title="公共属性（原型）"></a>公共属性（原型）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var n = new Numer(1)</span><br><span class="line">var s = new String(&apos;a&apos;)</span><br><span class="line">var b = new Boolean(true)</span><br><span class="line">var o = new Object()</span><br><span class="line"></span><br><span class="line">// 上面4个不同的对象都有`toString()、valueOf()`属性，可是如果每个对象都创建2个属性会很浪费内存，</span><br><span class="line">// 所以，共用就好了</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/9047034-0f6ff979ff671a46.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>那么怎么访问公共属性呢？每个对象的toString储存公共属性的toString的地址？不</p>
<ul>
<li><p><strong>proto</strong><br>js通过隐藏属性<code>__proto__</code>属性来访问公共属性，它指向了那些所有对象共有的属性<br><img src="http://upload-images.jianshu.io/upload_images/9047034-c5f22ebf1be96355.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><img src="http://upload-images.jianshu.io/upload_images/9047034-58a951ddf11b50f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>步骤：</p>
<ol>
<li>首先查看自身是否是对象，如果不是就包装对象</li>
<li>如果是对象就查看自身的 key 有没有 toString，有的话就直接调用</li>
<li>如果没有的话就通过<code>__proto__</code>查看你的共用属性看有没有，有的话就将你自身对应的值打印出来<br>例子：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var o1 = &#123;name: &apos;zero&apos;&#125;</span><br><span class="line">o1.toString()  // [object Object]</span><br><span class="line">// 依照步骤来，o1是对象，o1没有toString，查看共有属性，有toString,打印o1对应的值</span><br><span class="line">// 不仅仅是o1,创建更多的对象也是一样，所有的对象都有隐藏属性`__proto__`，指向对应的共有属性</span><br><span class="line">var o2 = &#123;&#125;</span><br><span class="line">o1 === o2  // false</span><br><span class="line">o1.toString() === o2.toString()  // true</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>如果是Number对象呢？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var n = new Number(11)</span><br><span class="line">n.toString(16) // numer对象可以这样，而oject对象是不能这样toString(16)的</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/9047034-73d1a598cc39ecd0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><img src="http://upload-images.jianshu.io/upload_images/9047034-7053ffb0f13ffd7e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>可以看见，Number重写了toString属性，以及添加一部分自己的属性，<br>然后通过<code>__proto__</code>指向Object，对象共有属性<br>所以如同上图，Number对象就是在第3步去Number重写的属性寻找，没有的话去共有属性找<br>Number对象的<code>__proto__</code>指向Number重写的共有属性，Number重写的共有属性的<code>__proto__</code>指向对象共有属性</p>
</li>
<li>除了Number以外，类似的还有String、Boolean(目前所学的)<br><img src="http://upload-images.jianshu.io/upload_images/9047034-735c75fa120b9192.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li><p>原型链</p>
<ul>
<li>对象的属性和方法，有可能定义在自身，也有可能定义在它的原型对象。由于原型本身也是对象，又有自己的原型，所以形成了一条原型链（prototype chain）,就像我们上面画的图一样，</li>
<li>如果一层层地上溯，所有对象的原型最终都可以上溯到Object.prototype，即Object构造函数的prototype属性。Object.prototype 就是 Object对象的共有属性，相对的，Number.prototype就是Number对象的共有属性，而Number.prototype的<strong>proto</strong>又指向Object.prototype,也就是它的共有属性，String和Boolean也是如此<br><img src="http://upload-images.jianshu.io/upload_images/9047034-078fe00b7805d361.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><img src="http://upload-images.jianshu.io/upload_images/9047034-0d483aad5063c4a7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><img src="http://upload-images.jianshu.io/upload_images/9047034-025562d3dd0f9ab8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>看这张图，结合前面所学的数据结构，是不是很有意思，<br>根节点是Object.prototype,三个子节点分别是String.prototype、Number.prototype、Boolean.prototype,<br>当你执行<code>var str = new String(&#39;a&#39;)</code>时，浏览器就会在堆中创建一个hash，str保存这个hash的地址，<br>这个hash也就是String对象中除了你定义的属性外还有隐藏属性<strong>proto</strong>指向String.prototype,String.prototype又指向Object.prototype,这就完成了String API的所有绑定，<br>Number和Boolean也是一样</li>
<li>“原型链”的作用是，读取对象的某个属性时，JavaScript 引擎先寻找对象本身的属性，如果找不到，就到它的原型去找，如果还是找不到，就到原型的原型去找。如果直到最顶层的Object.prototype还是找不到，则返回undefined。</li>
<li>如果对象自身和它的原型，都定义了一个同名属性，那么优先读取对象自身的属性，这叫做“覆盖”（overriding）。</li>
<li>需要注意的是，一级级向上，在原型链寻找某个属性，对性能是有影响的。所寻找的属性在越上层的原型对象，对性能的影响越大。如果寻找某个不存在的属性，将会遍历整个原型链。</li>
<li><p>prototype与<strong>proto</strong><br><img src="http://upload-images.jianshu.io/upload_images/9047034-96c0b1e26bda2589.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>两者都指向共用属性<br>String.prototype 是 String 的共用属性的引用（防止共用属性被垃圾回收）<br>s.<strong>proto</strong> 是 String 的共用属性的引用（这是你在用共用属性）</p>
<p><img src="http://upload-images.jianshu.io/upload_images/9047034-824231e631c041b0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><img src="http://upload-images.jianshu.io/upload_images/9047034-18e698f7dbc6f91d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><strong>proto</strong> 是对象的属性，prototype 是函数的属性<br>它们储存的地址相同，指向的其实是同一个对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 一些烧脑的东西</span><br><span class="line"></span><br><span class="line">var obj1 = 函数.prototype</span><br><span class="line">obj1.__proto__  === Object.prototype  // 等于下面</span><br><span class="line">函数.prototype.__proto__ === Object.prototype</span><br><span class="line"></span><br><span class="line">var obj2 = 函数</span><br><span class="line">obj2.__proto__ === Function.prototype  // 也就是</span><br><span class="line">函数.__proto__ === Function.prototype</span><br><span class="line">Function.__proto__ === Function.prototype</span><br><span class="line">Function.prototype.__proto__ === Obeject.prototype</span><br><span class="line"></span><br><span class="line">String.__proto__ === Function.prototype</span><br><span class="line">Number.__proto__ === Function.prototype</span><br><span class="line">Boolean.__proto__ === Function.prototype</span><br><span class="line">Object.__proto__ === Function.prototype</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/9047034-6fc6ef4dfcfe3a1c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>总之，记住公式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">对象.__proto__ === (对象原型)函数.prototype</span><br><span class="line">函数.__proto__ === Function.prototype</span><br><span class="line">Function.prototype.__proto_ === Object.prototype</span><br><span class="line">函数.prototype.__proto_ === Object.prototype</span><br><span class="line"></span><br><span class="line">// 测试一下代码就可以证明</span><br><span class="line">function fc()&#123;&#125;</span><br><span class="line"></span><br><span class="line">var o = new fc()</span><br><span class="line">o.__proto__ === fc.prototype</span><br><span class="line">fc.__proto__ === Function.prototype</span><br><span class="line">fc.prototype.__proto__ === Object.prototype</span><br><span class="line">Object.prototype.__proto__ === null</span><br></pre></td></tr></table></figure>
<p>也就是说:</p>
<ul>
<li>所有对象的<code>__proto__</code>引用此对象原型函数的<code>prototype</code>属性</li>
<li>所有函数的<code>__proto__</code>引用<code>Function.protype</code>,不管你自己写的还是 api</li>
<li><code>Function.protype.__proto__</code>以及你自己写的函数的共用属性<code>prototype</code>的<code>__proto__</code>引用<code>Object.prototype</code><br><img src="https://camo.githubusercontent.com/b8806bd76878881e7f843b0e77643aff26594ecf/687474703a2f2f3773626e62612e636f6d312e7a302e676c622e636c6f7564646e2e636f6d2f6769746875622d6a732d70726f746f747970652e6a7067" alt=""><br><a href="https://github.com/creeperyang/blog/issues/9" target="_blank" rel="noopener">参考</a></li>
</ul>
</li>
<li>那么，Object.prototype对象有没有它的原型呢？回答是有的，就是没有任何属性和方法的null对象，而null对象没有自己的原型。</li>
<li><code>Object.getPrototypeOf(Object.prototype)  // null</code><br>上面代码表示，Object.prototype对象的原型是null，由于null没有任何属性，所以原型链到此为止。<br>Object.prototype 就是 Object对象的共有属性</li>
<li><a href="http://javascript.ruanyifeng.com/oop/prototype.html#toc3" target="_blank" rel="noopener">阮一峰</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/15/A21-JS里的数据/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zerolhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zerolhao-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/15/A21-JS里的数据/" itemprop="url">a21 JS 里的类型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-15T22:19:20+08:00">
                2018-01-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><h3 id="1-转换为-字符串"><a href="#1-转换为-字符串" class="headerlink" title="1. 转换为 字符串"></a>1. 转换为 <strong>字符串</strong></h3><ul>
<li><code>toString()</code> 方法返回一个表示该对象的字符串 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString" target="_blank" rel="noopener">MDN</a></li>
<li>语法：<code>object.toString()</code></li>
<li><p>number to string</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var num = 1;  // number</span><br><span class="line">n.toString()  // &apos;1&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p>boolean to string</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var boolean = true</span><br><span class="line">boolean.toString()  // &apos;true&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p>symbol 这里不研究</p>
</li>
<li><p>null</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var n = null</span><br><span class="line">n.toString() </span><br><span class="line">// Uncaught TypeError: Cannot read property &apos;toString&apos; of null</span><br><span class="line">// 所以 null 类型并没有 toString() 这个 api</span><br></pre></td></tr></table></figure>
</li>
<li><p>undefined</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var u = undefined</span><br><span class="line">u.toString()</span><br><span class="line">// Uncaught TypeError: Cannot read property &apos;toString&apos; of null</span><br><span class="line">// 所以 undefined 类型也没有 toString() 这个 api</span><br></pre></td></tr></table></figure>
</li>
<li><p>object</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&quot;name&quot;: &quot;zero&quot;&#125;</span><br><span class="line">obj.toString  // &quot;[object Object]&quot;</span><br><span class="line">// 可以 toString(), 但结果并不是我们想要的</span><br></pre></td></tr></table></figure>
</li>
<li><h2 id="总结：想让一个东西变成字符串，如果它能变成一个字符串，那么直接调用-toString-就可以了；"><a href="#总结：想让一个东西变成字符串，如果它能变成一个字符串，那么直接调用-toString-就可以了；" class="headerlink" title="总结：想让一个东西变成字符串，如果它能变成一个字符串，那么直接调用 toString() 就可以了；"></a>总结：想让一个东西变成字符串，如果它能变成一个字符串，那么直接调用 toString() 就可以了；</h2><p><code>console.log()</code>也是用的这种原理，理论上<code>console.log()</code>只能接受字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">congole.log(&apos;zero&apos;)  // zero ,这里浏览器打印出来的并不一定加括号</span><br><span class="line">console.log(1)  // 1 等于下面的</span><br><span class="line">console.log((1).toString())</span><br></pre></td></tr></table></figure>
<p>object 对象的 <code>key</code> 也是这样，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;</span><br><span class="line">obj[&apos;name&apos;] = 1</span><br><span class="line">obj[1] = 2  // 1 被 toString()</span><br><span class="line">obj[true] = 1  // true -&gt; &apos;true&apos;</span><br><span class="line">obj  // &#123; 1: 2, name: 1, true: 1 &#125;</span><br></pre></td></tr></table></figure>
<p>有些地方自动的、把它需要字符串就调用 <code>toString()</code> ,JS 里有很多这种地方</p>
</li>
<li><p>但是使用 toSteing() 很麻烦，下面是老司机的方法，与<strong>空字符串相加</strong><br>使用 <code>+</code> 连接符，如果它的一边有字符串，它就会尝试将另外一边也变成字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1 + &apos;&apos;  // &apos;1&apos;</span><br><span class="line">true + &apos;&apos; // &apos;true&apos;</span><br><span class="line">var obj = &#123;&#125;</span><br><span class="line">obj + &apos;&apos; // &apos;[Object Object]&apos;</span><br><span class="line">null + &apos;&apos;  // &apos;null&apos;</span><br><span class="line">undefined + &apos;&apos; // &apos;undefined&apos;</span><br><span class="line">也可以翻过写</span><br><span class="line">&apos;&apos; + 1  // &apos;1&apos;</span><br><span class="line">&apos;&apos; + true  // &apos;true&apos;</span><br><span class="line">...</span><br><span class="line">这种方式甚至比 toString() 更强大，因为它能将 null 和 undefined 也变成字符串</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="使用String-函数，可以将任意类型的值转化成字符串。转换规则如下。"><a href="#使用String-函数，可以将任意类型的值转化成字符串。转换规则如下。" class="headerlink" title="使用String()函数，可以将任意类型的值转化成字符串。转换规则如下。"></a>使用<code>String()</code>函数，可以将任意类型的值转化成字符串。转换规则如下。</h4><ol>
<li><p>原始类型值的转换规则</p>
<blockquote>
<p><strong>数值：</strong>转为相应的字符串。<br><strong>字符串：</strong>转换后还是原来的值。<br><strong>布尔值：</strong>true转为”true”，false转为”false”。<br><strong>undefined：</strong>转为”undefined”。<br><strong>null：</strong>转为”null”。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String(123) // &quot;123&quot;</span><br><span class="line">String(&apos;abc&apos;) // &quot;abc&quot;</span><br><span class="line">String(true) // &quot;true&quot;</span><br><span class="line">String(undefined) // &quot;undefined&quot;</span><br><span class="line">String(null) // &quot;null&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>对象的转换规则<br>String方法的参数如果是对象，返回一个类型字符串；如果是数组，返回该数组的字符串形式。<br><code>String({a: 1}) // &quot;[object Object]&quot;</code><br><code>String([1, 2, 3]) // &quot;1,2,3&quot;</code></p>
</li>
<li><a href="http://javascript.ruanyifeng.com/grammar/conversion.html#toc2" target="_blank" rel="noopener">阮一峰</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener">MDN</a><h3 id="2-转换为-布尔值"><a href="#2-转换为-布尔值" class="headerlink" title="2. 转换为 布尔值"></a>2. 转换为 <strong>布尔值</strong></h3></li>
</ol>
</li>
<li><code>Boolean()</code>函数，可以将任意类型的变量转为布尔值。(强制转换)</li>
<li><p>它的转换规则相对简单：除了以下六个值的转换结果为false，其他的值全部为true。</p>
<blockquote>
<p>undefined<br>null<br>-0<br>0或+0<br>NaN<br>‘’（空字符串）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Boolean(undefined) // false</span><br><span class="line">Boolean(null) // false</span><br><span class="line">Boolean(0) // false</span><br><span class="line">Boolean(NaN) // false</span><br><span class="line">Boolean(&apos;&apos;) // false</span><br><span class="line">Boolean(1)  // true</span><br><span class="line">Boolean(&apos; &apos;)  // true</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>注意，所有对象（包括空对象）的转换结果都是true，甚至连false对应的布尔对象new Boolean(false)也是true。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Boolean(&#123;&#125;) // true</span><br><span class="line">Boolean([]) // true</span><br><span class="line">Boolean(new Boolean(false)) // true</span><br></pre></td></tr></table></figure>
</li>
<li><p>所有对象的布尔值都是true，这是因为JavaScript语言设计的时候，出于性能的考虑，如果对象需要计算才能得到布尔值，对于obj1 &amp;&amp; obj2这样的场景，可能会需要较多的计算。为了保证性能，就统一规定，对象的布尔值为true。</p>
</li>
<li><a href="http://javascript.ruanyifeng.com/grammar/conversion.html#toc3" target="_blank" rel="noopener">阮一峰</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank" rel="noopener">MDN</a></li>
<li><strong>老司机的简易方法</strong></li>
<li><p>首先来看一段代码<br><code>!trur  // false</code><br><strong>(<code>!</code>是取反的意思)</strong><br>那么在前面再加一个<code>!</code><br><code>!!true  // true</code><br>得到这样一个结果（可以尝试理解负负得正）<br>于是我们得到一个结果，用任何一个东西给它取反两次就会得到它的布尔值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">!1  // false</span><br><span class="line">!!true  // true</span><br><span class="line">!!0  // false</span><br><span class="line">!!1  // true</span><br><span class="line">!!&apos;&apos;  // false</span><br><span class="line">!!&apos; &apos;  // true</span><br><span class="line">!!null  // false</span><br><span class="line">!!undefined  // false</span><br><span class="line">!!&#123;&#125;  // true</span><br><span class="line">!!&#123;name: &apos;zero&apos;&#125;  // true</span><br></pre></td></tr></table></figure>
<p>它的规则和<code>Boolean()</code>是一样的，只有那几个值是’false’</p>
</li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy" target="_blank" rel="noopener">falsy-MDN</a><h3 id="3-转换为Number"><a href="#3-转换为Number" class="headerlink" title="3. 转换为Number"></a>3. 转换为<strong>Number</strong></h3></li>
<li><p>‘1’ -&gt; 1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1. Number(&apos;1&apos;) === 1</span><br><span class="line">2. parseInt(&apos;1&apos;, 10) === 1</span><br><span class="line">3. parseFloat(&apos;1.23&apos;) === 1.23</span><br><span class="line">// 老司机的简单方法</span><br><span class="line">4. &apos;1&apos; - 0 === 1</span><br><span class="line">5. + &apos;1&apos; === 1</span><br><span class="line">6. -(- &apos;1&apos;) === 1</span><br><span class="line"></span><br><span class="line">// 还有一些需要注意的</span><br><span class="line">parseInt(&apos;011&apos;) === 11</span><br><span class="line">parseInt(&apos;011&apos;, 8) === 9</span><br><span class="line">parseInt(&apos;011&apos;, 10) === 11</span><br><span class="line">parseInt(&apos;12s&apos;) === 12</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="http://javascript.ruanyifeng.com/grammar/conversion.html#toc1" target="_blank" rel="noopener">阮一峰</a></p>
</li>
</ul>
</li>
<li><h2 id="内存图"><a href="#内存图" class="headerlink" title="内存图"></a>内存图</h2><ul>
<li><img src="http://upload-images.jianshu.io/upload_images/9047034-91883100db3b875c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li><img src="http://upload-images.jianshu.io/upload_images/9047034-e1878e7a431c7eba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li><img src="http://upload-images.jianshu.io/upload_images/9047034-7af74d1ed5c38193.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></li>
<li><p>面试题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">var a = 1</span><br><span class="line">var b = a</span><br><span class="line">b = 2</span><br><span class="line">请问 a 显示是几？  </span><br><span class="line">1</span><br><span class="line">  </span><br><span class="line">var a = &#123;name: &apos;a&apos;&#125;</span><br><span class="line">var b = a</span><br><span class="line">b = &#123;name: &apos;b&apos;&#125;</span><br><span class="line">请问现在 a.name 是多少？</span><br><span class="line">&apos;a&apos;</span><br><span class="line">  </span><br><span class="line">var a = &#123;name: &apos;a&apos;&#125;</span><br><span class="line">var b = a</span><br><span class="line">b.name = &apos;b&apos;</span><br><span class="line">请问现在 a.name 是多少？</span><br><span class="line">&apos;b&apos;</span><br><span class="line">  </span><br><span class="line">var a = &#123;name: &apos;a&apos;&#125;</span><br><span class="line">var b = a</span><br><span class="line">b = null</span><br><span class="line">请问现在 a 是什么？</span><br><span class="line">&#123;name: &apos;a&apos;&#125;</span><br><span class="line"></span><br><span class="line">var a = &#123;n: 1&#125;</span><br><span class="line">var b = a;</span><br><span class="line">a.x = a = &#123;n: 2&#125;  // 先计算 a = &#123;n: 2&#125;,再计算 a.x = 值</span><br><span class="line">//  难点在于，a = &#123;n: 2&#125;计算后，a储存的地址已经变了，</span><br><span class="line">//  但是a.x的a的地址仍然是之前的地址,详见下图</span><br><span class="line"></span><br><span class="line">alert(a.x)  // undefined</span><br><span class="line">alert(b.x)  // [object Object]</span><br><span class="line">// alert函数默认参数使用toString转换字符串</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/9047034-53ad79e8a6b03a6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
</li>
<li><p>垃圾回收<br>如果一个对象没有被引用，她就是垃圾，<strong>将</strong>被回收</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;name: &apos;a&apos;&#125;</span><br><span class="line">var b = &#123;name: &apos;b&apos;&#125;</span><br><span class="line">a = b</span><br><span class="line">// &#123;name: &apos;a&apos;&#125; 失去引用，将被回收</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/9047034-008f46a1ca34ac7a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
</li>
<li><p>深复制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var a = 1</span><br><span class="line">var b = a</span><br><span class="line">b = 2 //这个时候改变 b</span><br><span class="line">a 完全不受 b 的影响</span><br><span class="line">那么我们就说这是一个深复制</span><br></pre></td></tr></table></figure>
<p>对于简单类型的数据来说，赋值就是深拷贝。</p>
<p>对于复杂类型的数据（对象）来说，才要区分浅拷贝和深拷贝。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 这是一个浅拷贝的例子</span><br><span class="line">var a = &#123;name: &apos;frank&apos;&#125;</span><br><span class="line">var b = a</span><br><span class="line">b.name = &apos;b&apos;</span><br><span class="line">a.name === &apos;b&apos; // true</span><br><span class="line">//  因为我们对 b 操作后，a 也变了</span><br></pre></td></tr></table></figure>
<p>什么是深拷贝了，就是对 Heap 内存进行完全的拷贝。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;name: &apos;frank&apos;&#125;</span><br><span class="line">var b = deepClone(a) // deepClone 还不知道怎么实现</span><br><span class="line">b.name = &apos;b&apos;</span><br><span class="line">a.name === &apos;a&apos; // true</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/9047034-8e1d24d495480a47.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/07/A20-js里的数据/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zerolhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zerolhao-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/07/A20-js里的数据/" itemprop="url">A20-js里的数据</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-07T22:37:40+08:00">
                2018-01-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><h3 id="非标准的语法"><a href="#非标准的语法" class="headerlink" title="非标准的语法"></a>非标准的语法</h3><p>通过 Babel 来转义使用<br>将不存在的语法翻译成存在的语法</p>
</li>
<li><h3 id="js有-7-种数据类型"><a href="#js有-7-种数据类型" class="headerlink" title="js有 7 种数据类型"></a>js有 7 种数据类型</h3><ol>
<li>数值  number</li>
<li>字符串  string</li>
<li>布尔 boolean</li>
<li>Symbol 符号</li>
<li>null </li>
<li>undefined</li>
<li>对象 object<br>array和function都是对象，除了前面6种其它都是对象</li>
</ol>
</li>
<li><h3 id="如何表示这7种数据类型"><a href="#如何表示这7种数据类型" class="headerlink" title="如何表示这7种数据类型"></a>如何表示这7种数据类型</h3><h4 id="1-number"><a href="#1-number" class="headerlink" title="1. number"></a>1. number</h4><ul>
<li>十进制  1、1.1、.1、1.23e2、1.23E2</li>
<li>二进制 0b、0B开头  0b10（十进制2）</li>
<li>八进制 0开头  011（十进制9）</li>
<li>十六进制 0x、0X开头 0x11（十进制17）</li>
</ul>
<h4 id="2-string"><a href="#2-string" class="headerlink" title="2. string"></a>2. string</h4><ul>
<li>‘你好’</li>
<li>“你好”</li>
<li>‘’空字符串</li>
<li>‘ ‘空格字符串</li>
<li>‘’’ 转义字符 输出单引号，\ 是转义符</li>
<li>‘n’回车 ‘\t’tab …… 这些都是一个字符</li>
<li>‘\’ 用转义符来转义转义符，输出 \</li>
<li>多行字符串 <ul>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> var str = &apos;1234\   这个方法抄袭自命令行</span><br><span class="line"> 67890&apos; 输出1234567890  这种很容易出现空格但是看不见，很坑</span><br><span class="line"> </span><br><span class="line">      </span><br><span class="line"> var str = &apos;12345&apos; +</span><br><span class="line"> &apos;67890&apos;  // 输出 1234567890，这种方法多达几个字符但是更好读更安全（只推荐这种）</span><br><span class="line"> ES6新增了一种新的语法，使用 反引号（1左边那个按键）</span><br><span class="line"></span><br><span class="line">var str = `12345</span><br><span class="line">           67890`  // 这种不需要加\，但是依然会出现空格，包括缩进产生的</span><br><span class="line">var str = `12345</span><br><span class="line">67890`    // 因为有缩进所以依然有空格，并且这种方式保留 回车！</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="3-boolean"><a href="#3-boolean" class="headerlink" title="3. boolean"></a>3. boolean</h4><ul>
<li>布尔其实是一个人的名字，他是一名数学家，他发明了逻辑学</li>
<li>true 真</li>
<li>false 假</li>
<li>相关：&amp;&amp;（与）、||（或） 运算<br>举例： a&amp;&amp;b<br>只有 a 和 b 同时为 真 的时候 a&amp;&amp;b 才为真<br>举例： a||b<br>只要 a 和 b 有一个为 真，结果就为 真</li>
</ul>
<h4 id="4-symbol（暂时用不上，没讲）"><a href="#4-symbol（暂时用不上，没讲）" class="headerlink" title="4. symbol（暂时用不上，没讲）"></a>4. symbol（暂时用不上，没讲）</h4><h4 id="5-null-（空对象）"><a href="#5-null-（空对象）" class="headerlink" title="5. null （空对象）"></a>5. null （空对象）</h4><ul>
<li>这是一个类型</li>
<li>它只有一个值，就是 null</li>
</ul>
<h4 id="6-undefined-（空非对象）"><a href="#6-undefined-（空非对象）" class="headerlink" title="6. undefined  （空非对象）"></a>6. undefined  （空非对象）</h4><ul>
<li>这是一个类型</li>
<li>它只有一个值，就是 undefined</li>
</ul>
<p>null 与 undefined 的意思都是 什么也没有，<br>它们是 js 的一个bug，是没设计好</p>
<p>区别</p>
<ol>
<li>变量没有赋值 -  值为undefined （语法）</li>
<li>有一个对象object，现在不想赋值，那么给它一个 null  （惯例）<br>（可以给undefined，但是推荐给 null）<br>有一个非对象，现在不像赋值，推荐给一个 undefined （不需要自己给，看第一条）</li>
</ol>
<p>以上 6 种叫做 基本类型（简单类型，它们就一个值）</p>
<h4 id="7-object"><a href="#7-object" class="headerlink" title="7. object"></a>7. object</h4><ul>
<li>它是 复杂类型，由简单类型组成</li>
<li><p>举例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">  &quot;name&quot;: &quot;zero&quot;,  // js 只支持以 字符串 为key</span><br><span class="line">  &quot;age&quot;: 20,       // key可以不加引号，js会自动加上</span><br><span class="line">  &quot;gender&quot;: &quot;male&quot;, // es3不支持最后一个加逗号，es5支持，</span><br><span class="line">                    // ie7及以下不能加，ie8及以上可以加      </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>语法：</p>
<ul>
<li>用<code>{}</code>包起来</li>
<li><p>里面是 键值对</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  key: value,  // key必须是字符串，但是js会自动添加所以不手动添加也可以</span><br><span class="line">  ……           // value 该怎么写就怎么写，</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>然后将这个新建的对象赋给一个变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">  string: &quot;string&quot;,</span><br><span class="line">  number: 10,</span><br><span class="line">  boolean: true,</span><br><span class="line">  obj2:&#123;     // 对象里面还可以有另一个对象，一直嵌套下去</span><br><span class="line">    name:&apos;xxx&apos;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<br><code>obj[&#39;string&#39;]</code><br><code>obj.number</code></p>
</li>
<li><p>烧脑的地方来了，里面的值可不可以是自己呢？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">  name: &apos;zero&apos;,</span><br><span class="line">  age:&apos;22&apos;,</span><br><span class="line">  self: person</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出 person.self.self.self.self.name 会是什么结果<br>undefined,person中储存的是地址，指向的堆中只有一个对象，<br>由于还未将对象赋给person，<br>var person;  // 变量提升别忘了<br>person = {…} // 先计算对象，然后赋给person地址，因此self的值实际上是undefined，<br>即使先赋值再添加self，引用的仍然是同一个对象，self指向的都是同一个地址</p>
</li>
<li><p>空字符串也是字符串，那么空字符串当key可以么？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">  &quot;&quot;: &quot;空字符串&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用：obj[“”] 就能输出 “空字符串”</p>
</li>
<li>还是key，变量名不可以用数字开头，key可以么<br>不加引号的key不可以，不加引号的key默认使用标识符的命名规则<br>加引号的key可以，中间加空格也可以，”a b”: ‘xxx’,</li>
<li>很重要的一点<br>如果key的书写符合标识符的规则的话<br>比如：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">  name: &apos;zero&apos;,</span><br><span class="line">  age: 22</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>可以这样使用：`person.name、person.age   // 这里name、age都是字符串，``<br>(特例，只有符合标识符的情况下才可以这样使用)</p>
</li>
</ul>
</li>
<li><h3 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h3><p>可以删除对象的属性，比如<br>delete person[‘name’] （上面那种特里也可以，规则不变）<br>person.name // undefined (无value)<br>‘name’ in person  // false (无key)</p>
</li>
<li><h3 id="for-in"><a href="#for-in" class="headerlink" title="for in"></a>for in</h3><ul>
<li>遍历对象</li>
<li>使用，比如便利上面的person<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(var key in person)&#123;</span><br><span class="line">  console.log(person[key]) // 不可以用person.key,因为key不是字符串，</span><br><span class="line">&#125;// 遍历输出的顺序并不一定是像代码那样的顺序</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h3><ul>
<li>用来知道一个变量的类型</li>
<li>typeof 返回null时会返回 ‘object’ ,第一个bug<br><code>typeof null // &#39;object&#39;</code></li>
<li>js中只有 7 中类型<br>但是typeof 函数的时候却会返回 function， 第二个bug<br>`typeof function(){}  // ‘function’ （数组正常的返回object）``</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/02/初识HTML/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zerolhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zerolhao-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/02/初识HTML/" itemprop="url">初识HTML</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-02T19:04:07+08:00">
                2017-12-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-万维网联盟（World-Wide-Web-Consortium-W3C）-又称-W3C-理事会，是万维网的主要国际标准组织。"><a href="#1-万维网联盟（World-Wide-Web-Consortium-W3C）-又称-W3C-理事会，是万维网的主要国际标准组织。" class="headerlink" title="1. 万维网联盟（World  Wide Web Consortium, W3C）,又称 W3C 理事会，是万维网的主要国际标准组织。"></a>1. 万维网联盟（World  Wide Web Consortium, W3C）,又称 W3C 理事会，是万维网的主要国际标准组织。</h2><ul>
<li><h2 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h2><p>万维网联盟（W3C）由蒂姆·伯纳斯-李于1994年10月离开欧洲核子研究中心（CERN）后成立，在欧盟执委会和国防高等研究计划署（DARPA）的支持下成立于麻省理工学院MIT计算机科学与人工智能实验室（MIT／LCS），DARPA曾率先推出了互联网及其前身ARPANET。</p>
</li>
<li><h2 id="标准"><a href="#标准" class="headerlink" title="标准"></a>标准</h2><p>为解决web应用中不同平台、技术和开发者带来的不兼容问题，保障Web信息的顺利和完整流通，万维网联盟制定了一系列标准并督促Web应用开发者和内容提供者遵循这些标准。标准的内容包括使用语言的规范，开发中使用的导则和解释引擎的行为等等。W3C也制定了包括XML和CSS等的众多影响深远的标准规范。</p>
</li>
</ul>
<p>更多详细请见：<a href="https://www.wikiwand.com/zh-cn/%E4%B8%87%E7%BB%B4%E7%BD%91%E8%81%94%E7%9B%9F" target="_blank" rel="noopener">wiki</a><br><a href="https://www.w3.org/" target="_blank" rel="noopener">W3C官网</a></p>
<h2 id="2-MDN-Web-Docs（旧称Mozilla-Developer-Network、Mozilla-Developer-Center，简称MDN）是一个汇集众多Mozilla基金会产品和网路技术开发文档的免费网站。"><a href="#2-MDN-Web-Docs（旧称Mozilla-Developer-Network、Mozilla-Developer-Center，简称MDN）是一个汇集众多Mozilla基金会产品和网路技术开发文档的免费网站。" class="headerlink" title="2. MDN Web Docs（旧称Mozilla Developer Network、Mozilla Developer Center，简称MDN）是一个汇集众多Mozilla基金会产品和网路技术开发文档的免费网站。"></a>2. MDN Web Docs（旧称Mozilla Developer Network、Mozilla Developer Center，简称MDN）是一个汇集众多Mozilla基金会产品和网路技术开发文档的免费网站。</h2><ul>
<li><h2 id="历史-1"><a href="#历史-1" class="headerlink" title="历史"></a>历史</h2>该计画始于2005年，最初由Mozilla公司员工Deb Richardson 领导。自2006年以来，文档工作由Eric Shepherd领导。</li>
</ul>
<p>网站最初的内容是由DevEdge提供，但在AOL收购Netscape后，DevEdge网站也宣布关闭。为此Mozilla基金会向AOL取得了DevEdge释出的内容，同时将DevEdge内容搬移到mozilla.org。</p>
<p>MDN本身有一个论坛，并在Mozilla IRC 网络上有一个 IRC 频道#mdn。MDN由Mozilla公司提供服务器和员工的资助。</p>
<p>2016年10月3日发表的Brave网页浏览器将MDN作为其搜寻引擎选项之一。</p>
<p>更多详细请见：<a href="https://www.wikiwand.com/zh-hans/MDN_Web_Docs" target="_blank" rel="noopener">wiki</a><br><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener">MDN官网</a></p>
<h2 id="3-HTML元素"><a href="#3-HTML元素" class="headerlink" title="3. HTML元素"></a>3. HTML元素</h2><p>以下是一部分html元素，考虑到时间我并没有写这些元素各自所代表的含义（其实就是懒，但是真的太麻烦啦！），如果你想要明白它们所代表的含义的话，就去MDN看吧！<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element" target="_blank" rel="noopener">MDN-HTML</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line">&lt;a&gt;</span><br><span class="line">&lt;abbr&gt;</span><br><span class="line">&lt;acronym&gt;</span><br><span class="line">&lt;address&gt;</span><br><span class="line">&lt;applet&gt;</span><br><span class="line">&lt;area&gt;</span><br><span class="line">&lt;article&gt;</span><br><span class="line">&lt;aside&gt;</span><br><span class="line">&lt;audio&gt;</span><br><span class="line">&lt;b&gt;</span><br><span class="line">&lt;base&gt;</span><br><span class="line">&lt;basefont&gt;</span><br><span class="line">&lt;bdi&gt;</span><br><span class="line">&lt;bdo&gt;</span><br><span class="line">&lt;bgsound&gt;</span><br><span class="line">&lt;big&gt;</span><br><span class="line">&lt;blink&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;button&gt;</span><br><span class="line">&lt;canvas&gt;</span><br><span class="line">&lt;caption&gt;</span><br><span class="line">&lt;center&gt;</span><br><span class="line">&lt;cite&gt;</span><br><span class="line">&lt;code&gt;</span><br><span class="line">&lt;col&gt;</span><br><span class="line">&lt;colgroup&gt;</span><br><span class="line">&lt;content&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">&lt;dd&gt;</span><br><span class="line">&lt;del&gt;</span><br><span class="line">&lt;details&gt;</span><br><span class="line">&lt;dfn&gt;</span><br><span class="line">&lt;dialog&gt;</span><br><span class="line">&lt;dir&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;dl&gt;</span><br><span class="line">&lt;dt&gt;</span><br><span class="line">&lt;element&gt;</span><br><span class="line">&lt;em&gt;</span><br><span class="line">&lt;embed&gt;</span><br><span class="line">&lt;fieldset&gt;</span><br><span class="line">&lt;figcaption&gt;</span><br><span class="line">&lt;figure&gt;</span><br><span class="line">&lt;font&gt;</span><br><span class="line">&lt;footer&gt;</span><br><span class="line">&lt;form&gt;</span><br><span class="line">&lt;frame&gt;</span><br><span class="line">&lt;frameset&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;header&gt;</span><br><span class="line">&lt;hgroup&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;i&gt;</span><br><span class="line">&lt;iframe&gt;</span><br><span class="line">&lt;image&gt;</span><br><span class="line">&lt;img&gt;</span><br><span class="line">&lt;input&gt;</span><br><span class="line">&lt;ins&gt;</span><br><span class="line">&lt;isindex&gt;</span><br><span class="line">&lt;kbd&gt;</span><br><span class="line">&lt;keygen&gt;</span><br><span class="line">&lt;label&gt;</span><br><span class="line">&lt;legend&gt;</span><br><span class="line">&lt;li&gt;</span><br><span class="line">&lt;link&gt;</span><br><span class="line">&lt;listing&gt;</span><br><span class="line">&lt;main&gt;</span><br><span class="line">&lt;map&gt;</span><br><span class="line">&lt;mark&gt;</span><br><span class="line">&lt;marquee&gt;</span><br><span class="line">&lt;menu&gt;</span><br><span class="line">&lt;menuitem&gt;</span><br><span class="line">&lt;meta&gt;</span><br><span class="line">&lt;meter&gt;</span><br><span class="line">&lt;multicol&gt;</span><br><span class="line">&lt;nav&gt;</span><br><span class="line">&lt;nextid&gt;</span><br><span class="line">&lt;nobr&gt;</span><br><span class="line">&lt;noembed&gt;</span><br><span class="line">&lt;noframes&gt;</span><br><span class="line">&lt;noscript&gt;</span><br><span class="line">&lt;object&gt;</span><br><span class="line">&lt;ol&gt;</span><br><span class="line">&lt;optgroup&gt;</span><br><span class="line">&lt;option&gt;</span><br><span class="line">&lt;output&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">&lt;param&gt;</span><br><span class="line">&lt;picture&gt;</span><br><span class="line">&lt;plaintext&gt;</span><br><span class="line">&lt;pre&gt;</span><br><span class="line">&lt;q&gt;</span><br><span class="line">&lt;rp&gt;</span><br><span class="line">&lt;rt&gt;</span><br><span class="line">&lt;rtc&gt;</span><br><span class="line">&lt;ruby&gt;</span><br><span class="line">&lt;s&gt;</span><br><span class="line">&lt;samp&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&lt;section&gt;</span><br><span class="line">&lt;select&gt;</span><br><span class="line">&lt;shadow&gt;</span><br><span class="line">&lt;slot&gt;</span><br><span class="line">&lt;small&gt;</span><br><span class="line">Source</span><br><span class="line">&lt;spacer&gt;</span><br><span class="line">&lt;span&gt;</span><br><span class="line">&lt;strike&gt;</span><br><span class="line">&lt;strong&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;sub&gt;</span><br><span class="line">&lt;summary&gt;</span><br><span class="line">&lt;sup&gt;</span><br><span class="line">&lt;table&gt;</span><br><span class="line">&lt;tbody&gt;</span><br><span class="line">&lt;td&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;textarea&gt;</span><br><span class="line">&lt;tfoot&gt;</span><br><span class="line">&lt;th&gt;</span><br><span class="line">&lt;thead&gt;</span><br><span class="line">&lt;time&gt;</span><br><span class="line">&lt;title&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">&lt;track&gt;</span><br><span class="line">&lt;tt&gt;</span><br><span class="line">&lt;u&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;var&gt;</span><br><span class="line">&lt;video&gt;</span><br><span class="line">&lt;wbr&gt;</span><br><span class="line">&lt;xmp&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="4-空标签"><a href="#4-空标签" class="headerlink" title="4.空标签"></a>4.空标签</h2><p>虽然不能一个一个解释下每个标签的含义，但是可以解释一些特别的东西。<br>空标签就是这种“特别”之一。<br>正常情况下，一个 HTML 元素通常由一个<strong>开始</strong>标记和<strong>结束</strong>标记组成，其内容插入在：<br><code>&lt;tagname&gt; 内容xxx&lt;/tagname&gt;</code><br>例如：<code>&lt;p&gt;A Paragraph&lt;/p&gt;</code><br>但是空标签不同，它<strong>没有内容和结束标记!</strong><br>在HTML中，对一个空标签使用一个闭标签通常时无效的。<br>例如：<code>&lt;input type=&quot;text&quot;&gt;&lt;/inut&gt;</code><br>正确的写法是：<code>&lt;input type=&quot;text&quot;&gt;</code><br>当然你也可以这么写：<code>&lt;input type=&quot;text&quot; /&gt;</code>（HTML5不需要关闭空元素但是你可以这么做，如果你需要一个更严格的验证的话）<br>在HTML中还有以下这些空元素：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;area&gt;</span><br><span class="line">&lt;base&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;col&gt;</span><br><span class="line">&lt;colgroup&gt; when the span is present</span><br><span class="line">&lt;command&gt;</span><br><span class="line">&lt;embed&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;img&gt;</span><br><span class="line">&lt;input&gt;</span><br><span class="line">&lt;keygen&gt;</span><br><span class="line">&lt;link&gt;</span><br><span class="line">&lt;meta&gt;</span><br><span class="line">&lt;param&gt;</span><br><span class="line">&lt;source&gt;</span><br><span class="line">&lt;track&gt;</span><br><span class="line">&lt;wbr&gt;</span><br></pre></td></tr></table></figure></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/%E7%A9%BA%E5%85%83%E7%B4%A0" target="_blank" rel="noopener">详见此</a></p>
<h2 id="5-可替换标签"><a href="#5-可替换标签" class="headerlink" title="5. 可替换标签"></a>5. 可替换标签</h2><p>从元素本身的特点来讲，HTML标签元素可以分为可替换元素(replaceable element)和不可替换元素(none-replaceable element)。<br>不可替换元素：<br>HTML中的大多数元素是不可替换元素，即其内容直接表现给用户端（例如浏览器）。</p>
<blockquote>
<p>例如：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt; 段落```&lt;p&gt;```是一个不可替换元素，文字“段落的内容”全被显示。</span><br><span class="line"></span><br><span class="line">**可替换元素:**</span><br><span class="line">可替换元素就是浏览器根据元素的标签和属性，来决定元素的具体显示内容。</span><br><span class="line">&gt; 例如浏览器会根据```&lt;img&gt;```标签的src属性的值来读取图片信息并显示出来，而如果查看(x)html代码，</span><br><span class="line">&gt; 则看不到图片的实际内容；又例如根据```&lt;input&gt;```标签的type属性来决定是显示输入框，还是单选按钮等。</span><br><span class="line"></span><br><span class="line">更详细的解释(从[CSS2.1规范](https://www.w3.org/TR/CSS21/conform.html))：</span><br><span class="line">&gt; 内容超出CSS格式模型范围的元素，如图像，嵌入式文档或小程序。</span><br><span class="line">&gt; 例如，HTML IMG元素的内容通常被其“src”属性指定的图像取代。</span><br><span class="line">&gt; 替换的元素通常具有固有的尺寸：固有宽度，固有高度和固有比率。</span><br><span class="line">&gt; 例如，位图图像具有以绝对单位指定的固有宽度和固有高度（从中可明显确定固有比率）。</span><br><span class="line">&gt; 另一方面，其他文档可能没有任何固有的尺寸（例如，空白的HTML文档）。</span><br><span class="line">&gt; 如果认为这些维度可能会泄露敏感信息给第三方，用户代理可能会认为被替换的元素没有任何内在维度。</span><br><span class="line">&gt; 例如，如果一个HTML文档根据用户的银行余额改变了内在大小，那么UA可能希望这个资源没有固有维度。</span><br><span class="line">&gt; CSS渲染模型中不考虑替换元素的内容。</span><br><span class="line"></span><br><span class="line">常见的可替换元素有：</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p><img></p>
<p><object></object></p>
<p><video></video></p>
<p><textarea></textarea></p>
<p><input></p>
<p><audio></audio></p>
<p><canvas></canvas></p>
<p><select><br>```</select></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/24/Hexo+GitHub博客搭建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zerolhao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zerolhao-blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/24/Hexo+GitHub博客搭建/" itemprop="url">Hexo+GitHub博客搭建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-11-24T20:24:08+08:00">
                2017-11-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="如何使用Hexo-GitHub搭建一个博客"><a href="#如何使用Hexo-GitHub搭建一个博客" class="headerlink" title="如何使用Hexo+GitHub搭建一个博客"></a>如何使用Hexo+GitHub搭建一个博客</h2><p>首先要声明的是本文默认你已经有git账号并且已经搞定ssh之类。</p>
<h6 id="并且是仅有一个git账户或者本机只有一个git全局账户的情况下！！！（至于为何……因为我还没搞定一套电脑两个账户怎么折腾……）"><a href="#并且是仅有一个git账户或者本机只有一个git全局账户的情况下！！！（至于为何……因为我还没搞定一套电脑两个账户怎么折腾……）" class="headerlink" title="并且是仅有一个git账户或者本机只有一个git全局账户的情况下！！！（至于为何……因为我还没搞定一套电脑两个账户怎么折腾……）"></a>并且是仅有一个git账户或者本机只有一个git全局账户的情况下！！！（至于为何……因为我还没搞定一套电脑两个账户怎么折腾……）</h6><h3 id="以下是步骤"><a href="#以下是步骤" class="headerlink" title="以下是步骤"></a>以下是步骤</h3><ol>
<li>在github上新建一个空的repo，repo 名称是「你的用户名.github.io」（请将你的用户名替换成真正的用户名）</li>
<li><p>进入一个安全的目录，你可以在D盘或者其它某个磁盘下创建一个文件夹，然后进入这个文件夹，比如我是D盘：<br>打开git bash</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd d:</span><br><span class="line">mkdir myblog</span><br><span class="line">cd myblog</span><br></pre></td></tr></table></figure>
</li>
<li><p>然后安装hexo<br><code>npm install -g hexo-cli</code></p>
</li>
<li>初始化，<code>hexo init</code></li>
<li>安装（我也不知道安装什么），<code>npm i</code></li>
<li><code>hexo new 开博大吉</code>,你会看见一个md文件的路径</li>
<li><code>start xxxxxxxxx.md</code>,编辑这个md文件，你也可以手动去翻文件夹然后编辑</li>
<li><code>start _config.yml</code>,编辑网站配置<ol>
<li>把第六行的title改成你想要的名字</li>
<li>把第九行的author改成你的名字</li>
<li>把最后一行的type改成type: git</li>
<li>在最后一行后面新增一行，左边与 type 平齐，加上一行<code>repo: 仓库地址</code><br>请将仓库地址改为「你的用户名.github.io」对应的仓库地址，仓库地址以 git@github.com: 开头</li>
</ol>
</li>
<li><code>npm install hexo-deployer-git --save</code>,安装git部署插件</li>
<li><code>hexo deploy</code></li>
<li>进入「你的用户名.github.io」对应的 repo，打开 GitHub Pages 功能，默认应该是打开的，如果是，就直接点击预览</li>
<li>你现在应该看到了你的博客!</li>
</ol>
<h3 id="第二篇博客"><a href="#第二篇博客" class="headerlink" title="第二篇博客"></a>第二篇博客</h3><ol>
<li><code>hexo new 第二篇博客</code></li>
<li>复制显示路径。使用<code>start 路径</code>来编辑它</li>
<li><code>hexo generate</code></li>
<li><code>hexo deploy</code></li>
<li>去看看你的博客，应该能看见第二篇博客了</li>
</ol>
<h3 id="换主题"><a href="#换主题" class="headerlink" title="换主题"></a>换主题</h3><ol>
<li><a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="noopener">主题</a> 这是一个主题合集</li>
<li>随便找一个主题合集，进入主题的github首页,比如我找的是<br><a href="git@github.com:xiangming/landscape-plus.git">git@github.com:xiangming/landscape-plus.git</a></li>
<li>复制它的 SSH 地址或 HTTPS 地址，假设地址为 git@github.com:iissnan/hexo-theme-next.git</li>
<li><code>cd themes</code></li>
<li><code>git clone git@github.com:iissnan/hexo-theme-next.git</code></li>
<li><code>cd ..</code></li>
<li>将 _config.yml 的第 75 行改为 <code>theme: landscape-plus.git</code>,保存</li>
<li><code>hexo g</code></li>
<li><code>hexo d</code></li>
<li>等上一会，然后刷新你的博客页面，你就会看到一个新的外观。如果不喜欢这个主题，就回到第一步，重选一个主题再来一遍。</li>
</ol>
<h6 id="以上就是使用Hexo配合GitHub搭建个人博客的教程了。"><a href="#以上就是使用Hexo配合GitHub搭建个人博客的教程了。" class="headerlink" title="以上就是使用Hexo配合GitHub搭建个人博客的教程了。"></a>以上就是使用Hexo配合GitHub搭建个人博客的教程了。</h6>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">zerolhao</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">Artikel</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zerolhao</span>

  
</div>


  <div class="powered-by">Erstellt mit  <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
